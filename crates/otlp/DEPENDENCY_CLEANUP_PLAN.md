# OTLP Rust 依赖清理计划

## 📋 清理目标

将项目依赖从333个减少到<100个，消除安全风险，提升构建性能。

## 🔍 当前依赖分析

### 问题依赖识别

1. **未维护的依赖**
   - `microservice-core = "0.3.0"` - 不存在
   - `service-mesh = "0.2.0"` - 不存在
   - `distributed-tracing = "0.4.0"` - 不存在

2. **重复功能依赖**
   - `actix-web` 和 `axum` - 选择其一
   - `tokio` 和 `async-std` - 统一使用tokio
   - 多个HTTP客户端库

3. **过度依赖**
   - AI/ML相关依赖（项目未实现）
   - 区块链相关依赖（项目未实现）
   - 边缘计算相关依赖（项目未实现）

## 🎯 清理策略

### 阶段1：移除虚假依赖

- 移除不存在的crate引用
- 移除未实现功能的依赖
- 移除重复功能的依赖

### 阶段2：核心依赖优化

- 保留OTLP核心功能依赖
- 统一HTTP客户端选择
- 优化异步运行时选择

### 阶段3：可选依赖管理

- 将非核心功能设为可选依赖
- 实现feature-based依赖管理
- 建立依赖分层结构

## 📊 预期结果

- 依赖数量：333 → <100
- 构建时间：减少50%
- 安全漏洞：0个
- 功能完整性：保持100%

## 🚀 实施计划

### 第1周：虚假依赖清理

- 移除不存在的crate
- 移除空模块相关依赖
- 验证构建可用性

### 第2周：核心依赖优化

- 统一HTTP客户端
- 优化异步运行时
- 实现feature管理

### 第3周：测试和验证

- 全面测试功能完整性
- 性能基准测试
- 安全漏洞扫描
