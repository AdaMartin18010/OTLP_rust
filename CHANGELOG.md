# Changelog

所有重要的项目变更都会记录在这个文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增

- 完整的OTLP协议实现，支持Rust 1.90
- 支持gRPC和HTTP/JSON两种传输协议
- 异步优先设计，兼容同步API
- 完整的遥测数据类型支持（追踪、指标、日志）
- 数据压缩支持（Gzip、Brotli、Zstd）
- 批量处理和聚合功能
- 重试机制和错误处理
- 性能基准测试套件
- 综合的集成测试
- 详细的文档和示例
- CI/CD管道配置
- 开发工具和Makefile

### 变更

- 优化了数据序列化性能
- 改进了错误处理机制
- 增强了配置验证

### 修复

- 修复了哈希工具中的ID生成问题
- 修复了字符串工具中的溢出问题
- 修复了测试中的断言问题

### 安全

- 所有依赖项已通过安全审计
- 实现了安全的TLS配置
- 添加了输入验证和清理

## [0.1.0] - 2025-01-XX

### 新增1

- 初始发布版本
- 核心OTLP客户端实现
- 基础遥测数据模型
- 传输层抽象
- 数据处理管道
- 配置管理系统
- 工具函数库

### 技术特性

- Rust 1.90语言特性支持
- 异步/等待模式
- 零拷贝优化
- 并发安全设计
- 类型安全保证

### 性能

- 单个追踪发送: ~1.06μs
- 批量发送(10个): ~3.69μs  
- 批量发送(1000个): ~332μs
- 数据创建性能: 追踪~391ns, 指标~64ns, 日志~109ns

### 文档

- 完整的API文档
- 使用示例和教程
- 架构设计说明
- 性能基准报告

---

## 版本说明

### 版本格式

我们使用语义化版本控制：`主版本.次版本.修订版本`

- **主版本**: 不兼容的API更改
- **次版本**: 向后兼容的功能添加
- **修订版本**: 向后兼容的错误修复

### 发布周期

- **主版本**: 重大架构变更或API重设计
- **次版本**: 新功能、性能优化、依赖更新
- **修订版本**: 错误修复、文档更新、小改进

### 支持政策

- 当前主版本和前一主版本获得完整支持
- 安全更新会向后移植到支持的版本
- 功能请求主要针对当前主版本

## 贡献指南

### 提交信息格式

```text
类型(范围): 简短描述

详细描述（可选）

关闭的问题: #123
```

类型包括：

- `feat`: 新功能
- `fix`: 错误修复
- `docs`: 文档更新
- `style`: 代码格式调整
- `refactor`: 代码重构
- `perf`: 性能优化
- `test`: 测试相关
- `chore`: 构建过程或辅助工具的变动

### 发布流程

1. 更新CHANGELOG.md
2. 更新版本号
3. 运行完整测试套件
4. 创建发布标签
5. 生成发布说明

## 已知问题

### 当前限制

- 某些高级OTLP功能仍在开发中
- 部分传输协议优化待完善
- 文档示例需要更多实际场景

### 计划改进

- 增强的错误恢复机制
- 更多的压缩算法支持
- 改进的性能监控
- 扩展的配置选项

## 致谢

感谢所有贡献者和OpenTelemetry社区的支持。

特别感谢：

- Rust社区提供的优秀工具链
- OpenTelemetry项目的协议规范
- 所有测试和反馈的用户
