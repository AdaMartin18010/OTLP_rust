# æ™ºæ…§ç‰©æµå¯è§‚æµ‹æ€§å®æˆ˜

> **åœºæ™¯**: å…¨å›½æ€§æ™ºæ…§ç‰©æµå¹³å°  
> **æœ€åæ›´æ–°**: 2025å¹´10æœˆ8æ—¥

---

## ç›®å½•

- [æ™ºæ…§ç‰©æµå¯è§‚æµ‹æ€§å®æˆ˜](#æ™ºæ…§ç‰©æµå¯è§‚æµ‹æ€§å®æˆ˜)
  - [ç›®å½•](#ç›®å½•)
  - [1. é¡¹ç›®èƒŒæ™¯](#1-é¡¹ç›®èƒŒæ™¯)
    - [1.1 ä¸šåŠ¡è§„æ¨¡](#11-ä¸šåŠ¡è§„æ¨¡)
    - [1.2 ç‰©æµè¡Œä¸šç‰¹æ®ŠæŒ‘æˆ˜](#12-ç‰©æµè¡Œä¸šç‰¹æ®ŠæŒ‘æˆ˜)
  - [2. ç³»ç»Ÿæ¶æ„](#2-ç³»ç»Ÿæ¶æ„)
    - [2.1 ç‰©æµç½‘ç»œæ¶æ„](#21-ç‰©æµç½‘ç»œæ¶æ„)
    - [2.2 å¯è§‚æµ‹æ€§æ¶æ„](#22-å¯è§‚æµ‹æ€§æ¶æ„)
  - [3. å…¨é“¾è·¯è¿½è¸ª](#3-å…¨é“¾è·¯è¿½è¸ª)
    - [3.1 åŒ…è£¹è¿½è¸ª](#31-åŒ…è£¹è¿½è¸ª)
    - [3.2 è®¢å•è¿½è¸ª](#32-è®¢å•è¿½è¸ª)
  - [4. è½¦è¾†ä¸ä»“åº“ç›‘æ§](#4-è½¦è¾†ä¸ä»“åº“ç›‘æ§)
    - [4.1 è½¦é˜Ÿç®¡ç†](#41-è½¦é˜Ÿç®¡ç†)
    - [4.2 æ™ºèƒ½ä»“å‚¨](#42-æ™ºèƒ½ä»“å‚¨)
  - [5. æ—¶æ•ˆç›‘æ§](#5-æ—¶æ•ˆç›‘æ§)
    - [5.1 SLAç›‘æ§](#51-slaç›‘æ§)
    - [5.2 å»¶è¿Ÿé¢„è­¦](#52-å»¶è¿Ÿé¢„è­¦)
  - [6. æ ¸å¿ƒå®ç°](#6-æ ¸å¿ƒå®ç°)
    - [6.1 åŒ…è£¹è¿½è¸ªå®ç°](#61-åŒ…è£¹è¿½è¸ªå®ç°)
    - [6.2 è½¦è¾†å®šä½è¿½è¸ª](#62-è½¦è¾†å®šä½è¿½è¸ª)
  - [7. å¼‚å¸¸å¤„ç†](#7-å¼‚å¸¸å¤„ç†)
    - [7.1 åŒ…è£¹å¼‚å¸¸](#71-åŒ…è£¹å¼‚å¸¸)
    - [7.2 è¿è¾“å¼‚å¸¸](#72-è¿è¾“å¼‚å¸¸)
  - [8. æ•…éšœæ¡ˆä¾‹](#8-æ•…éšœæ¡ˆä¾‹)
    - [8.1 æ¡ˆä¾‹: å¤§é¢ç§¯å»¶è¿Ÿ](#81-æ¡ˆä¾‹-å¤§é¢ç§¯å»¶è¿Ÿ)
  - [9. ä¸šåŠ¡ä»·å€¼](#9-ä¸šåŠ¡ä»·å€¼)
    - [9.1 æ—¶æ•ˆæå‡](#91-æ—¶æ•ˆæå‡)
    - [9.2 æˆæœ¬ä¼˜åŒ–](#92-æˆæœ¬ä¼˜åŒ–)
  - [10. ç»éªŒæ€»ç»“](#10-ç»éªŒæ€»ç»“)
    - [10.1 ç‰©æµè¡Œä¸šç‰¹æ®Šç»éªŒ](#101-ç‰©æµè¡Œä¸šç‰¹æ®Šç»éªŒ)

---

## 1. é¡¹ç›®èƒŒæ™¯

### 1.1 ä¸šåŠ¡è§„æ¨¡

```text
å…¨å›½æ€§ç‰©æµç½‘ç»œè§„æ¨¡:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ä¸šåŠ¡è§„æ¨¡:
- æ—¥è®¢å•é‡: 1000ä¸‡+
- æ—¥åŒ…è£¹é‡: 2000ä¸‡+
- ç½‘ç‚¹æ•°: 10,000+
- åˆ†æ‹£ä¸­å¿ƒ: 100+
- è½¦è¾†: 50,000+
- å¿«é€’å‘˜: 300,000+

ç½‘ç»œè¦†ç›–:
- çœçº§ä¸­å¿ƒ: 34ä¸ª
- åœ°çº§ä¸­å¿ƒ: 300+
- åŒºå¿ç½‘ç‚¹: 3,000+
- ä¹¡é•‡ç½‘ç‚¹: 7,000+
- å…¨å›½è¦†ç›–ç‡: 99.5%

æŠ€æœ¯æ¶æ„:
- è®¢å•ç³»ç»Ÿ (OMS)
- è¿è¾“ç®¡ç† (TMS)
- ä»“å‚¨ç®¡ç† (WMS)
- åˆ†æ‹£ç³»ç»Ÿ (SCS)
- é…é€ç³»ç»Ÿ (DMS)
- è½¨è¿¹è¿½è¸ª (GPS/åŒ—æ–—)
- å®¢æˆ·æœåŠ¡ (CRM)

æ•°æ®è§„æ¨¡:
- æ—¥è®¢å•æ•°æ®: 10äº¿æ¡+
- æ—¥è½¨è¿¹æ•°æ®: 50äº¿æ¡+
- æ—¥æ‰«ææ•°æ®: 100äº¿æ¡+
- å†å²æ•°æ®: 1PB+

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### 1.2 ç‰©æµè¡Œä¸šç‰¹æ®ŠæŒ‘æˆ˜

```text
ç‰©æµè¡Œä¸šå¯è§‚æµ‹æ€§æŒ‘æˆ˜:

1. æµ·é‡è®¢å•è¿½è¸ª ğŸ“¦
   - åƒä¸‡çº§æ—¥è®¢å•
   - å®æ—¶çŠ¶æ€æ›´æ–°
   - å¤šç³»ç»ŸååŒ
   - å…¨é“¾è·¯å¯è¿½æº¯

2. å¤æ‚ä¸šåŠ¡æµç¨‹ ğŸ”„
   - æ½æ”¶ â†’ åˆ†æ‹£ â†’ è¿è¾“ â†’ 
     åˆ†æ‹£ â†’ æ´¾é€ â†’ ç­¾æ”¶
   - å¤šæ¬¡è½¬è¿
   - å¼‚å¸¸å¤„ç†æµç¨‹
   - é€€è´§é€†å‘ç‰©æµ

3. åœ°ç†åˆ†å¸ƒå¹¿ ğŸŒ
   - å…¨å›½ç½‘ç»œ
   - è·¨åŒºåŸŸååŒ
   - ç½‘ç»œå»¶è¿Ÿ
   - æ•°æ®ä¸€è‡´æ€§

4. æ—¶æ•ˆè¦æ±‚é«˜ â±ï¸
   - æ¬¡æ—¥è¾¾/å½“æ—¥è¾¾
   - SLAä¸¥æ ¼
   - å®æ—¶è¿½è¸ª
   - å»¶è¿Ÿå‘Šè­¦

5. å¼‚å¸¸æƒ…å†µå¤š âš ï¸
   - åŒ…è£¹ç ´æŸ/ä¸¢å¤±
   - åœ°å€é”™è¯¯
   - æ”¶ä»¶äººä¸åœ¨
   - å¤©æ°”/äº¤é€šå½±å“

6. å³°å€¼æŒ‘æˆ˜ ğŸ“ˆ
   - åŒ11/618å¤§ä¿ƒ
   - 10å€æµé‡
   - ç³»ç»Ÿç¨³å®šæ€§
   - æˆæœ¬æ§åˆ¶
```

---

## 2. ç³»ç»Ÿæ¶æ„

### 2.1 ç‰©æµç½‘ç»œæ¶æ„

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç‰©æµç½‘ç»œæ¶æ„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

å®¢æˆ·ç«¯å±‚:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å•†å®¶ API      ç”¨æˆ· APP      Web     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIç½‘å…³å±‚                           â”‚
â”‚  - é™æµç†”æ–­                          â”‚
â”‚  - èº«ä»½è®¤è¯                          â”‚
â”‚  - Traceæ³¨å…¥                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä¸šåŠ¡ç³»ç»Ÿå±‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ OMS    â”‚ â”‚ TMS    â”‚ â”‚ WMS     â”‚  â”‚
â”‚  â”‚è®¢å•ç³»ç»Ÿ â”‚ â”‚è¿è¾“ç³»ç»Ÿâ”‚ â”‚ä»“å‚¨ç³»ç»Ÿ  â”‚  â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚
â”‚      â”‚          â”‚           â”‚       â”‚
â”‚  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ SCS    â”‚ â”‚ DMS    â”‚ â”‚ CRM    â”‚   â”‚
â”‚  â”‚åˆ†æ‹£ç³»ç»Ÿ â”‚ â”‚é…é€ç³»ç»Ÿâ”‚ â”‚å®¢æœç³»ç»Ÿ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åŸºç¡€è®¾æ–½å±‚                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚åˆ†æ‹£è®¾å¤‡ â”‚ â”‚GPSå®šä½ â”‚ â”‚æ‰«ææª    â”‚  â”‚
â”‚  â”‚PDAç»ˆç«¯  â”‚ â”‚è½¦è½½è®¾å¤‡â”‚ â”‚æ‰‹æŒç»ˆç«¯  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‰©æµèŠ‚ç‚¹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ½æ”¶ â†’ ä¸€çº§åˆ†æ‹£ â†’ å¹²çº¿è¿è¾“ â†’         â”‚
â”‚  äºŒçº§åˆ†æ‹£ â†’ æ”¯çº¿è¿è¾“ â†’ ç½‘ç‚¹åˆ†æ‹£ â†’     â”‚
â”‚  æœ€åä¸€å…¬é‡Œ â†’ ç­¾æ”¶                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å¯è§‚æµ‹æ€§æ¶æ„

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€ ç‰©æµå¯è§‚æµ‹æ€§æ¶æ„ â”€â”€â”€â”€â”€â”€â”€â”€â”

æ•°æ®é‡‡é›†å±‚:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸šåŠ¡ç³»ç»Ÿ                        â”‚
â”‚ + OTel SDK (Go/Java)           â”‚
â”‚                                 â”‚
â”‚ ç§»åŠ¨ç«¯:                         â”‚
â”‚ - å¿«é€’å‘˜ APP (Android/iOS)      â”‚
â”‚ - PDAæ‰«ææª                     â”‚
â”‚ - è½¦è½½ç»ˆç«¯                      â”‚
â”‚ + OTel SDK (Kotlin/Swift)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ OTLP/gRPC
             â”‚
æ•°æ®å¤„ç†å±‚:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Collector Cluster (100+èŠ‚ç‚¹)    â”‚
â”‚ - åœ°åŸŸéƒ¨ç½² (çœçº§/å¸‚çº§)           â”‚
â”‚ - æ•°æ®èšåˆ                      â”‚
â”‚ - é‡‡æ ·ç­–ç•¥                      â”‚
â”‚ - å¼‚å¸¸æ£€æµ‹                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
å­˜å‚¨å±‚:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Traces: Jaeger/Tempo (7å¤©)     â”‚
â”‚ Metrics: Prometheus (30å¤©)     â”‚
â”‚ Logs: Elasticsearch (7å¤©)      â”‚
â”‚ é•¿æœŸå­˜å‚¨: S3/OSS (1å¹´)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
åº”ç”¨å±‚:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Grafana (å¯è§†åŒ–)                â”‚
â”‚ - è®¢å•è¿½è¸ªä»ªè¡¨æ¿                 â”‚
â”‚ - è½¦è¾†ç›‘æ§ä»ªè¡¨æ¿                 â”‚
â”‚ - SLAç›‘æ§ä»ªè¡¨æ¿                  â”‚
â”‚ - å¼‚å¸¸å‘Šè­¦ä»ªè¡¨æ¿                 â”‚
â”‚                                 â”‚
â”‚ å‘Šè­¦ç³»ç»Ÿ:                        â”‚
â”‚ - å»¶è¿Ÿå‘Šè­¦                       â”‚
â”‚ - å¼‚å¸¸å‘Šè­¦                       â”‚
â”‚ - çŸ­ä¿¡/ç”µè¯/APPæ¨é€              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. å…¨é“¾è·¯è¿½è¸ª

### 3.1 åŒ…è£¹è¿½è¸ª

```text
åŒ…è£¹ç”Ÿå‘½å‘¨æœŸ:

ä¸‹å• â†’ æ½æ”¶ â†’ ä¸€çº§åˆ†æ‹£ â†’ è£…è½¦ â†’ 
å¹²çº¿è¿è¾“ â†’ å¸è½¦ â†’ äºŒçº§åˆ†æ‹£ â†’ è£…è½¦ â†’ 
æ”¯çº¿è¿è¾“ â†’ å¸è½¦ â†’ ç½‘ç‚¹åˆ†æ‹£ â†’ æ´¾é€ â†’ 
ç­¾æ”¶

æ¯ä¸ªç¯èŠ‚è®°å½•:
- æ—¶é—´æˆ³ (ç²¾ç¡®åˆ°ç§’)
- åœ°ç†ä½ç½® (GPSåæ ‡)
- æ“ä½œäººå‘˜/è®¾å¤‡
- åŒ…è£¹çŠ¶æ€
- Trace ID (å…¨é“¾è·¯)
- ç…§ç‰‡/ç­¾å (ç­¾æ”¶æ—¶)
```

### 3.2 è®¢å•è¿½è¸ª

**è®¢å•è¿½è¸ªå®ç° (Go)**:

```go
package logistics

import (
    "context"
    "time"
    
    "go.opentelemetry.io/otel"
    "go.opentelemetry.io/otel/attribute"
    "go.opentelemetry.io/otel/codes"
    "go.opentelemetry.io/otel/trace"
)

// è®¢å•å®Œæ•´ç”Ÿå‘½å‘¨æœŸè¿½è¸ª
func TraceOrder(ctx context.Context, orderID string) error {
    tracer := otel.Tracer("logistics-order")
    ctx, span := tracer.Start(ctx, "OrderLifecycle",
        trace.WithAttributes(
            attribute.String("order.id", orderID),
            attribute.String("order.type", "express"),
        ))
    defer span.End()
    
    // 1. ä¸‹å•
    ctx, order := PlaceOrder(ctx, orderID)
    
    // 2. æ½æ”¶
    ctx = PickUp(ctx, orderID, order.SenderAddress)
    
    // 3. ä¸€çº§åˆ†æ‹£
    ctx = FirstSort(ctx, orderID)
    
    // 4. å¹²çº¿è¿è¾“
    ctx = TrunkTransport(ctx, orderID, order.Province)
    
    // 5. äºŒçº§åˆ†æ‹£
    ctx = SecondSort(ctx, orderID)
    
    // 6. æ”¯çº¿è¿è¾“
    ctx = BranchTransport(ctx, orderID, order.City)
    
    // 7. ç½‘ç‚¹åˆ†æ‹£
    ctx = StationSort(ctx, orderID)
    
    // 8. æ´¾é€
    ctx = Delivery(ctx, orderID, order.ReceiverAddress)
    
    // 9. ç­¾æ”¶
    return SignFor(ctx, orderID)
}

// æ½æ”¶
func PickUp(ctx context.Context, orderID string, address string) context.Context {
    tracer := otel.Tracer("logistics-order")
    ctx, span := tracer.Start(ctx, "PickUp")
    defer span.End()
    
    span.SetAttributes(
        attribute.String("order.id", orderID),
        attribute.String("pickup.address", address),
        attribute.String("courier.id", getCourierID(ctx)),
    )
    
    // æ¨¡æ‹Ÿæ½æ”¶
    time.Sleep(2 * time.Minute)
    
    // è·å–GPSä½ç½®
    lat, lng := getCurrentLocation(ctx)
    span.SetAttributes(
        attribute.Float64("pickup.latitude", lat),
        attribute.Float64("pickup.longitude", lng),
    )
    
    // æ‰«æåŒ…è£¹
    if err := scanPackage(ctx, orderID, "PICKUP"); err != nil {
        span.RecordError(err)
        span.SetStatus(codes.Error, "æ‰«æå¤±è´¥")
        return ctx
    }
    
    // ä¸Šä¼ ç…§ç‰‡
    photoURL := uploadPhoto(ctx, orderID, "pickup")
    span.SetAttributes(
        attribute.String("pickup.photo", photoURL),
    )
    
    span.AddEvent("æ½æ”¶å®Œæˆ")
    
    return ctx
}

// åˆ†æ‹£
func FirstSort(ctx context.Context, orderID string) context.Context {
    tracer := otel.Tracer("logistics-order")
    ctx, span := tracer.Start(ctx, "FirstSort")
    defer span.End()
    
    span.SetAttributes(
        attribute.String("order.id", orderID),
        attribute.String("sort.center", "åä¸œåˆ†æ‹£ä¸­å¿ƒ"),
        attribute.String("sort.level", "L1"),
    )
    
    // è·å–ç›®çš„åœ°ä¿¡æ¯
    destination := getDestination(ctx, orderID)
    span.SetAttributes(
        attribute.String("destination.province", destination.Province),
        attribute.String("destination.city", destination.City),
    )
    
    // è‡ªåŠ¨åˆ†æ‹£
    sortingLine := calculateSortingLine(destination)
    span.SetAttributes(
        attribute.String("sorting.line", sortingLine),
    )
    
    // æ‰«æåˆ†æ‹£
    if err := scanPackage(ctx, orderID, "SORT"); err != nil {
        span.RecordError(err)
        span.SetStatus(codes.Error, "åˆ†æ‹£å¤±è´¥")
        return ctx
    }
    
    span.AddEvent("åˆ†æ‹£å®Œæˆ", trace.WithAttributes(
        attribute.String("next.step", "è£…è½¦"),
    ))
    
    return ctx
}

// è¿è¾“
func TrunkTransport(ctx context.Context, orderID string, province string) context.Context {
    tracer := otel.Tracer("logistics-order")
    ctx, span := tracer.Start(ctx, "TrunkTransport")
    defer span.End()
    
    span.SetAttributes(
        attribute.String("order.id", orderID),
        attribute.String("transport.type", "trunk"),
        attribute.String("destination.province", province),
    )
    
    // åˆ†é…è½¦è¾†
    vehicleID := assignVehicle(ctx, orderID, province)
    span.SetAttributes(
        attribute.String("vehicle.id", vehicleID),
        attribute.String("vehicle.type", "truck"),
    )
    
    // è£…è½¦æ‰«æ
    if err := scanPackage(ctx, orderID, "LOAD"); err != nil {
        span.RecordError(err)
        return ctx
    }
    
    // æ¨¡æ‹Ÿè¿è¾“ (è¿½è¸ªè½¦è¾†ä½ç½®)
    trackVehicle(ctx, vehicleID, orderID)
    
    // åˆ°è¾¾ç›®çš„åœ°
    if err := scanPackage(ctx, orderID, "UNLOAD"); err != nil {
        span.RecordError(err)
        return ctx
    }
    
    span.AddEvent("è¿è¾“å®Œæˆ")
    
    return ctx
}

// æ´¾é€
func Delivery(ctx context.Context, orderID string, address string) context.Context {
    tracer := otel.Tracer("logistics-order")
    ctx, span := tracer.Start(ctx, "Delivery")
    defer span.End()
    
    span.SetAttributes(
        attribute.String("order.id", orderID),
        attribute.String("delivery.address", address),
    )
    
    // åˆ†é…å¿«é€’å‘˜
    courierID := assignCourier(ctx, orderID)
    span.SetAttributes(
        attribute.String("courier.id", courierID),
    )
    
    // é€šçŸ¥æ”¶ä»¶äºº
    if err := notifyReceiver(ctx, orderID); err != nil {
        span.RecordError(err)
    }
    
    // æ´¾é€è·¯å¾„è¿½è¸ª
    trackDeliveryRoute(ctx, courierID, orderID)
    
    span.AddEvent("å¼€å§‹æ´¾é€")
    
    return ctx
}

// ç­¾æ”¶
func SignFor(ctx context.Context, orderID string) error {
    tracer := otel.Tracer("logistics-order")
    ctx, span := tracer.Start(ctx, "SignFor")
    defer span.End()
    
    span.SetAttributes(
        attribute.String("order.id", orderID),
    )
    
    // æ‰«æç­¾æ”¶
    if err := scanPackage(ctx, orderID, "SIGNED"); err != nil {
        span.RecordError(err)
        span.SetStatus(codes.Error, "ç­¾æ”¶å¤±è´¥")
        return err
    }
    
    // è·å–GPSä½ç½®
    lat, lng := getCurrentLocation(ctx)
    span.SetAttributes(
        attribute.Float64("sign.latitude", lat),
        attribute.Float64("sign.longitude", lng),
    )
    
    // ä¸Šä¼ ç­¾æ”¶ç…§ç‰‡/ç­¾å
    photoURL := uploadPhoto(ctx, orderID, "signature")
    signatureURL := uploadSignature(ctx, orderID)
    
    span.SetAttributes(
        attribute.String("sign.photo", photoURL),
        attribute.String("sign.signature", signatureURL),
    )
    
    // è®¡ç®—æ€»æ—¶é•¿
    orderTime := getOrderTime(ctx, orderID)
    signTime := time.Now()
    duration := signTime.Sub(orderTime)
    
    span.SetAttributes(
        attribute.Int64("order.duration_minutes", int64(duration.Minutes())),
    )
    
    // æ£€æŸ¥æ˜¯å¦è¶…æ—¶
    sla := getSLA(ctx, orderID)
    if duration > sla {
        span.AddEvent("SLAè¶…æ—¶", trace.WithAttributes(
            attribute.Int64("sla_minutes", int64(sla.Minutes())),
            attribute.Int64("actual_minutes", int64(duration.Minutes())),
        ))
    }
    
    span.AddEvent("ç­¾æ”¶å®Œæˆ")
    span.SetStatus(codes.Ok, "è®¢å•å®Œæˆ")
    
    return nil
}
```

---

## 4. è½¦è¾†ä¸ä»“åº“ç›‘æ§

### 4.1 è½¦é˜Ÿç®¡ç†

```go
// è½¦è¾†å®æ—¶è¿½è¸ª
func TrackVehicle(ctx context.Context, vehicleID string) {
    tracer := otel.Tracer("vehicle-tracking")
    meter := otel.Meter("vehicle-metrics")
    
    // Metrics
    speed, _ := meter.Float64Gauge("vehicle.speed")
    fuel, _ := meter.Float64Gauge("vehicle.fuel")
    mileage, _ := meter.Int64Counter("vehicle.mileage")
    
    // æ¯5ç§’ä¸ŠæŠ¥ä¸€æ¬¡ä½ç½®
    ticker := time.NewTicker(5 * time.Second)
    defer ticker.Stop()
    
    for {
        select {
        case <-ticker.C:
            ctx, span := tracer.Start(ctx, "VehicleLocationUpdate")
            
            // è·å–GPSä½ç½®
            lat, lng := getGPSLocation(vehicleID)
            currentSpeed := getSpeed(vehicleID)
            currentFuel := getFuelLevel(vehicleID)
            
            span.SetAttributes(
                attribute.String("vehicle.id", vehicleID),
                attribute.Float64("location.latitude", lat),
                attribute.Float64("location.longitude", lng),
                attribute.Float64("vehicle.speed", currentSpeed),
                attribute.Float64("vehicle.fuel", currentFuel),
            )
            
            // è®°å½•æŒ‡æ ‡
            attrs := metric.WithAttributes(
                attribute.String("vehicle.id", vehicleID),
                attribute.String("vehicle.type", "truck"),
            )
            speed.Record(ctx, currentSpeed, attrs)
            fuel.Record(ctx, currentFuel, attrs)
            
            // å¼‚å¸¸æ£€æµ‹
            if currentSpeed > 120.0 {
                span.AddEvent("è¶…é€Ÿå‘Šè­¦", trace.WithAttributes(
                    attribute.Float64("speed", currentSpeed),
                    attribute.Float64("limit", 120.0),
                ))
                alertSpeeding(ctx, vehicleID, currentSpeed)
            }
            
            if currentFuel < 10.0 {
                span.AddEvent("æ²¹é‡ä¸è¶³", trace.WithAttributes(
                    attribute.Float64("fuel", currentFuel),
                ))
                alertLowFuel(ctx, vehicleID, currentFuel)
            }
            
            span.End()
            
        case <-ctx.Done():
            return
        }
    }
}
```

### 4.2 æ™ºèƒ½ä»“å‚¨

```text
ä»“å‚¨ç›‘æ§æŒ‡æ ‡:

å…¥åº“æŒ‡æ ‡:
- å…¥åº“é‡ (ä»¶/å°æ—¶)
- å…¥åº“å‡†ç¡®ç‡ (%)
- å…¥åº“è€—æ—¶ (åˆ†é’Ÿ)

åº“å­˜æŒ‡æ ‡:
- å®æ—¶åº“å­˜é‡
- åº“ä½åˆ©ç”¨ç‡ (%)
- åº“å­˜å‘¨è½¬ç‡

å‡ºåº“æŒ‡æ ‡:
- å‡ºåº“é‡ (ä»¶/å°æ—¶)
- æ‹£è´§å‡†ç¡®ç‡ (%)
- æ‰“åŒ…è€—æ—¶ (åˆ†é’Ÿ)

è®¾å¤‡æŒ‡æ ‡:
- AGVè¿è¡ŒçŠ¶æ€
- ä¼ é€å¸¦é€Ÿåº¦
- åˆ†æ‹£æœºæ•ˆç‡
```

---

## 5. æ—¶æ•ˆç›‘æ§

### 5.1 SLAç›‘æ§

```text
ç‰©æµæ—¶æ•ˆæ ‡å‡†:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœåŠ¡ç±»å‹     â”‚ æ—¶æ•ˆæ‰¿è¯º â”‚ å®é™…æ—¶æ•ˆ â”‚ è¾¾æˆç‡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç‰¹å¿«ä¸“é€’     â”‚ 8å°æ—¶    â”‚ 7.5å°æ—¶  â”‚ 98.5%    â”‚
â”‚ æ¬¡æ—¥è¾¾       â”‚ 24å°æ—¶   â”‚ 22å°æ—¶   â”‚ 99.2%    â”‚
â”‚ éš”æ—¥è¾¾       â”‚ 48å°æ—¶   â”‚ 45å°æ—¶   â”‚ 99.5%    â”‚
â”‚ æ ‡å‡†å¿«é€’     â”‚ 72å°æ—¶   â”‚ 68å°æ—¶   â”‚ 99.8%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç›‘æ§ç»´åº¦:
- çœå†…/çœé™…
- åŸå¸‚/å†œæ‘
- é‡ç‚¹å®¢æˆ·
- å¤§ä¿ƒæœŸé—´
```

### 5.2 å»¶è¿Ÿé¢„è­¦

```go
// SLAå»¶è¿Ÿé¢„è­¦
func MonitorSLA(ctx context.Context, orderID string) {
    tracer := otel.Tracer("sla-monitor")
    ctx, span := tracer.Start(ctx, "MonitorSLA")
    defer span.End()
    
    order := getOrder(ctx, orderID)
    sla := getSLA(ctx, order.ServiceType)
    
    span.SetAttributes(
        attribute.String("order.id", orderID),
        attribute.String("service.type", order.ServiceType),
        attribute.Int64("sla_hours", int64(sla.Hours())),
    )
    
    // è®¡ç®—å·²ç”¨æ—¶é—´
    elapsed := time.Since(order.CreateTime)
    remaining := sla - elapsed
    
    span.SetAttributes(
        attribute.Int64("elapsed_hours", int64(elapsed.Hours())),
        attribute.Int64("remaining_hours", int64(remaining.Hours())),
    )
    
    // å»¶è¿Ÿé¢„è­¦
    if remaining < 4*time.Hour {
        span.AddEvent("SLAå»¶è¿Ÿé¢„è­¦", trace.WithAttributes(
            attribute.String("alert.level", "WARNING"),
            attribute.Int64("remaining_minutes", int64(remaining.Minutes())),
        ))
        
        alertSLAWarning(ctx, orderID, remaining)
    }
    
    if remaining < 0 {
        span.AddEvent("SLAè¶…æ—¶", trace.WithAttributes(
            attribute.String("alert.level", "CRITICAL"),
            attribute.Int64("overdue_minutes", int64(-remaining.Minutes())),
        ))
        span.SetStatus(codes.Error, "SLAè¶…æ—¶")
        
        alertSLATimeout(ctx, orderID, -remaining)
    }
}
```

---

## 6. æ ¸å¿ƒå®ç°

### 6.1 åŒ…è£¹è¿½è¸ªå®ç°

*è§3.2èŠ‚*-

### 6.2 è½¦è¾†å®šä½è¿½è¸ª

*è§4.1èŠ‚*-

---

## 7. å¼‚å¸¸å¤„ç†

### 7.1 åŒ…è£¹å¼‚å¸¸

```text
å¸¸è§åŒ…è£¹å¼‚å¸¸:

1. ç ´æŸ (Damaged)
   - åŸå› åˆ†æ
   - ç…§ç‰‡ç•™å­˜
   - ç†èµ”æµç¨‹

2. ä¸¢å¤± (Lost)
   - æœ€åä½ç½®
   - è¿½è¸ªå†å²
   - æŸ¥æ‰¾æµç¨‹

3. åœ°å€é”™è¯¯ (Address Error)
   - è”ç³»æ”¶ä»¶äºº
   - ä¿®æ”¹åœ°å€
   - é‡æ–°æ´¾é€

4. æ”¶ä»¶äººä¸åœ¨ (Not Home)
   - é¢„çº¦å†é€
   - ä»£æ”¶ç‚¹
   - è‡ªææŸœ
```

### 7.2 è¿è¾“å¼‚å¸¸

```text
è¿è¾“å¼‚å¸¸ç›‘æ§:

1. è½¦è¾†æ•…éšœ
   - å®æ—¶å‘Šè­¦
   - è°ƒåº¦å¤‡ç”¨è½¦
   - è´§ç‰©è½¬è¿

2. äº¤é€šäº‹æ•…
   - ç´§æ€¥å“åº”
   - è´§ç‰©ç¡®è®¤
   - é‡æ–°å®‰æ’

3. å¤©æ°”å½±å“
   - å»¶è¿Ÿé¢„è­¦
   - è·¯çº¿è°ƒæ•´
   - å®¢æˆ·é€šçŸ¥

4. é“è·¯å°é—­
   - å®æ—¶è·¯å†µ
   - æ™ºèƒ½æ”¹é“
   - æ—¶æ•ˆä¿è¯
```

---

## 8. æ•…éšœæ¡ˆä¾‹

### 8.1 æ¡ˆä¾‹: å¤§é¢ç§¯å»¶è¿Ÿ

```text
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ•…éšœç°è±¡:
- æ—¶é—´: 2025-07-15 08:00
- åŒºåŸŸ: åå—åœ°åŒº
- ç°è±¡: å¤§é¢ç§¯è®¢å•å»¶è¿Ÿ
- å½±å“: 50ä¸‡è®¢å•, SLAè¶…æ—¶é£é™©

å®šä½è¿‡ç¨‹:

Step 1: å‘Šè­¦è§¦å‘ (5åˆ†é’Ÿ)
  â†’ Grafanaå‘Šè­¦: åå—SLAè¾¾æˆç‡ 99% â†’ 85%
  â†’ å½±å“è®¢å•: 50ä¸‡+
  â†’ Trace ID: å¤šä¸ªè®¢å•å¼‚å¸¸

Step 2: åŒºåŸŸåˆ†æ (10åˆ†é’Ÿ)
  â†’ åœ°å›¾å¯è§†åŒ–: é—®é¢˜é›†ä¸­åœ¨åå—
  â†’ æŸ¥è¯¢Jaeger: åå—åˆ†æ‹£ä¸­å¿ƒå¼‚å¸¸
  â†’ Traceæ˜¾ç¤º: åˆ†æ‹£è€—æ—¶ 5åˆ†é’Ÿ â†’ 30åˆ†é’Ÿ

Step 3: ç³»ç»Ÿæ£€æŸ¥ (15åˆ†é’Ÿ)
  â†’ æŸ¥çœ‹PrometheusæŒ‡æ ‡
  â†’ å‘ç°: åˆ†æ‹£æœºè¿è¡Œé€Ÿåº¦ä¸‹é™
    - æ­£å¸¸: 10,000ä»¶/å°æ—¶
    - å¼‚å¸¸: 2,000ä»¶/å°æ—¶

Step 4: æ ¹å› å®šä½ (20åˆ†é’Ÿ)
  â†’ æŸ¥çœ‹è®¾å¤‡æ—¥å¿—
  â†’ å‘ç°: ä¼ é€å¸¦ç”µæœºè¿‡è½½
  â†’ åŸå› : åŒ…è£¹å †ç§¯å¯¼è‡´å¡é¡¿
  â†’ æ ¹å› : ä¸Šæ¸¸æ½æ”¶é‡æš´å¢ (ä¿ƒé”€æ´»åŠ¨)

Step 5: ç´§æ€¥å¤„ç† (30åˆ†é’Ÿ)
  â†’ å¯åŠ¨åº”æ€¥é¢„æ¡ˆ
  â†’ è°ƒé…äººå·¥åˆ†æ‹£
  â†’ è°ƒåº¦å¤‡ç”¨åˆ†æ‹£çº¿
  â†’ åˆ†æµåˆ°å…¶ä»–åˆ†æ‹£ä¸­å¿ƒ

Step 6: æ•ˆæœéªŒè¯ (1å°æ—¶)
  â†’ åˆ†æ‹£é€Ÿåº¦æ¢å¤: 8,000ä»¶/å°æ—¶
  â†’ SLAè¾¾æˆç‡: 85% â†’ 95%
  â†’ ç»§ç»­ä¼˜åŒ–ä¸­

æ€»è€—æ—¶: 1.5å°æ—¶

åç»­ä¼˜åŒ–:
âœ… å¢åŠ åˆ†æ‹£äº§èƒ½ç›‘æ§
âœ… ä¸Šæ¸¸æ½æ”¶é‡é¢„è­¦
âœ… æ™ºèƒ½åˆ†æµç­–ç•¥
âœ… åº”æ€¥é¢„æ¡ˆä¼˜åŒ–

ä»·å€¼:
âœ… å¿«é€Ÿå®šä½é—®é¢˜ (20åˆ†é’Ÿ)
âœ… åŠæ—¶æ­¢æŸ (å½±å“é™ä½60%)
âœ… é¿å…å®¢æˆ·æŠ•è¯‰
âœ… æ•°æ®é©±åŠ¨å†³ç­–

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## 9. ä¸šåŠ¡ä»·å€¼

### 9.1 æ—¶æ•ˆæå‡

```text
æ—¶æ•ˆæ”¹å–„:
- å¹³å‡æ—¶æ•ˆ: 48å°æ—¶ â†’ 36å°æ—¶ (â†“25%)
- æ¬¡æ—¥è¾¾è¾¾æˆç‡: 95% â†’ 99% (â†‘4%)
- å®¢æˆ·æ»¡æ„åº¦: 85åˆ† â†’ 92åˆ† (â†‘7åˆ†)

å¼‚å¸¸å¤„ç†:
- å¼‚å¸¸å‘ç°æ—¶é—´: 2å°æ—¶ â†’ 10åˆ†é’Ÿ (â†“92%)
- å¼‚å¸¸å¤„ç†æ—¶é—´: 4å°æ—¶ â†’ 1å°æ—¶ (â†“75%)
- ä¸¢ä»¶ç‡: 0.5% â†’ 0.05% (â†“90%)
```

### 9.2 æˆæœ¬ä¼˜åŒ–

```text
æˆæœ¬èŠ‚çœ:
- è¿è¾“æˆæœ¬: â†“15% (è·¯çº¿ä¼˜åŒ–)
- äººåŠ›æˆæœ¬: â†“10% (æ•ˆç‡æå‡)
- ä»“å‚¨æˆæœ¬: â†“20% (å‘¨è½¬åŠ å¿«)
- å®¢æœæˆæœ¬: â†“40% (ä¸»åŠ¨é€šçŸ¥)

æ€»æˆæœ¬èŠ‚çœ: Â¥2äº¿/å¹´
```

---

## 10. ç»éªŒæ€»ç»“

### 10.1 ç‰©æµè¡Œä¸šç‰¹æ®Šç»éªŒ

```text
âœ… 1. å…¨é“¾è·¯è¿½è¸ªå¿…ä¸å¯å°‘
   - æ¯ä¸ªç¯èŠ‚å¯è¿½æº¯
   - GPSä½ç½®è®°å½•
   - ç…§ç‰‡/ç­¾åç•™å­˜

âœ… 2. å®æ—¶æ€§è¦æ±‚é«˜
   - ç§’çº§ä½ç½®æ›´æ–°
   - åˆ†é’Ÿçº§å‘Šè­¦
   - å¼‚å¸¸å¿«é€Ÿå“åº”

âœ… 3. åœ°ç†åˆ†å¸ƒå¼éƒ¨ç½²
   - çœçº§/å¸‚çº§Collector
   - å°±è¿‘ä¸ŠæŠ¥
   - é™ä½å»¶è¿Ÿ

âœ… 4. SLAç›‘æ§å…³é”®
   - å¤šç»´åº¦ç›‘æ§
   - é¢„è­¦æœºåˆ¶
   - è‡ªåŠ¨åŒ–å¤„ç†

âœ… 5. ç§»åŠ¨ç«¯SDKé‡è¦
   - APP/PDAé›†æˆ
   - ç¦»çº¿ç¼“å­˜
   - ä½åŠŸè€—è®¾è®¡

âŒ é¿å…çš„å‘:
1. ä¸è¦å¿½è§†ç§»åŠ¨ç½‘ç»œä¸ç¨³å®š
2. ä¸è¦å¿½è§†GPSå®šä½è¯¯å·®
3. ä¸è¦å¿½è§†å³°å€¼æµé‡å†²å‡»
4. ä¸è¦å¿½è§†å†å²æ•°æ®æŸ¥è¯¢
5. ä¸è¦å¿½è§†æ•°æ®éšç§ä¿æŠ¤
```

---

**æ–‡æ¡£çŠ¶æ€**: âœ… å®Œæˆ  
**æ¡ˆä¾‹æ¥æº**: çœŸå®ç‰©æµè¡Œä¸šå®è·µ  
**é€‚ç”¨åœºæ™¯**: å¿«é€’ç‰©æµã€ä¾›åº”é“¾ã€é…é€æœåŠ¡
