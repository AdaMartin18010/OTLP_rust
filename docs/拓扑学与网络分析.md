# æ‹“æ‰‘å­¦ä¸ç½‘ç»œåˆ†æåœ¨OpenTelemetryä¸­çš„åº”ç”¨

## ğŸ“Š æ–‡æ¡£æ¦‚è§ˆ

**åˆ›å»ºæ—¶é—´**: 2025å¹´1æœˆ27æ—¥  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**ç»´æŠ¤è€…**: OpenTelemetry 2025 å­¦æœ¯ç ”ç©¶å›¢é˜Ÿ  
**çŠ¶æ€**: æ‹“æ‰‘å­¦ä¸ç½‘ç»œåˆ†æç†è®º  
**é€‚ç”¨èŒƒå›´**: åˆ†å¸ƒå¼ç³»ç»Ÿå¯è§‚æµ‹æ€§åˆ†æ

## ğŸ¯ ç†è®ºåŸºç¡€

### æ‹“æ‰‘å­¦åŸºç¡€

#### æ‹“æ‰‘ç©ºé—´å®šä¹‰

**å®šä¹‰1**: æœåŠ¡æ‹“æ‰‘ç©ºé—´

```text
è®¾åˆ†å¸ƒå¼ç³»ç»ŸS = {sâ‚, sâ‚‚, ..., sâ‚™}ä¸ºæœåŠ¡é›†åˆ
å®šä¹‰æœåŠ¡æ‹“æ‰‘ç©ºé—´(X, Ï„)ä¸ºï¼š
X = S (æœåŠ¡é›†åˆ)
Ï„ = {U âŠ† S | Uæ˜¯è¿é€šçš„}

å…¶ä¸­è¿é€šæ€§å®šä¹‰ä¸ºï¼š
æœåŠ¡sâ‚, sâ‚‚è¿é€š âŸº å­˜åœ¨è¯·æ±‚è·¯å¾„ä»sâ‚åˆ°sâ‚‚
```

**å®šä¹‰2**: è¿½è¸ªæ‹“æ‰‘ç©ºé—´

```text
è®¾è¿½è¸ªé›†åˆT = {tâ‚, tâ‚‚, ..., tâ‚˜}
å®šä¹‰è¿½è¸ªæ‹“æ‰‘ç©ºé—´(Y, Ïƒ)ä¸ºï¼š
Y = T (è¿½è¸ªé›†åˆ)
Ïƒ = {V âŠ† T | Væ˜¯æ—¶é—´è¿ç»­çš„}

å…¶ä¸­æ—¶é—´è¿ç»­æ€§å®šä¹‰ä¸ºï¼š
è¿½è¸ªtâ‚, tâ‚‚æ—¶é—´è¿ç»­ âŸº tâ‚.end_time â‰¤ tâ‚‚.start_time
```

#### æ‹“æ‰‘æ€§è´¨

**å®šç†1**: æœåŠ¡è¿é€šæ€§å®šç†

```text
å¯¹äºåˆ†å¸ƒå¼ç³»ç»ŸSï¼Œå¦‚æœï¼š
1. å­˜åœ¨æ ¹æœåŠ¡sâ‚€ âˆˆ S
2. âˆ€s âˆˆ S, å­˜åœ¨è·¯å¾„ä»sâ‚€åˆ°s

åˆ™ç³»ç»ŸSæ˜¯è¿é€šçš„ã€‚

è¯æ˜ï¼š
è®¾P(sâ‚€, s)ä¸ºä»sâ‚€åˆ°sçš„è·¯å¾„é›†åˆã€‚
ç”±äºâˆ€s âˆˆ S, P(sâ‚€, s) â‰  âˆ…ï¼Œ
å› æ­¤âˆ€sâ‚, sâ‚‚ âˆˆ Sï¼Œå­˜åœ¨è·¯å¾„ï¼š
sâ‚ â†’ sâ‚€ â†’ sâ‚‚
æ•…ç³»ç»ŸSè¿é€šã€‚
```

**å®šç†2**: æ—¶é—´æ‹“æ‰‘è¿ç»­æ€§å®šç†

```text
å¯¹äºè¿½è¸ªé›†åˆTï¼Œå¦‚æœï¼š
1. æ—¶é—´æ’åºï¼štâ‚.start_time â‰¤ tâ‚‚.start_time â‰¤ ... â‰¤ tâ‚™.start_time
2. æ—¶é—´è¿ç»­æ€§ï¼štáµ¢.end_time â‰¤ táµ¢â‚Šâ‚.start_time

åˆ™è¿½è¸ªé›†åˆTåœ¨æ—¶é—´æ‹“æ‰‘ä¸‹è¿ç»­ã€‚

è¯æ˜ï¼š
è®¾æ—¶é—´åºåˆ—ä¸º{tâ‚, tâ‚‚, ..., tâ‚™}ï¼Œæ»¡è¶³æ—¶é—´è¿ç»­æ€§æ¡ä»¶ã€‚
å¯¹äºä»»æ„táµ¢, tâ±¼ âˆˆ Tï¼Œå¦‚æœ|i - j| = 1ï¼Œåˆ™táµ¢, tâ±¼æ—¶é—´è¿ç»­ã€‚
å¯¹äº|i - j| > 1çš„æƒ…å†µï¼Œå­˜åœ¨ä¸­é—´åºåˆ—ä½¿å¾—æ—¶é—´è¿ç»­æ€§ä¼ é€’ã€‚
å› æ­¤Tåœ¨æ—¶é—´æ‹“æ‰‘ä¸‹è¿ç»­ã€‚
```

### ç½‘ç»œåˆ†æåŸºç¡€

#### å›¾è®ºåŸºç¡€

**å®šä¹‰3**: æœåŠ¡ä¾èµ–å›¾

```text
è®¾æœåŠ¡ä¾èµ–å›¾G = (V, E)ä¸ºï¼š
V = S (æœåŠ¡èŠ‚ç‚¹é›†åˆ)
E = {(sáµ¢, sâ±¼) | æœåŠ¡sáµ¢ä¾èµ–æœåŠ¡sâ±¼}

å›¾çš„æ€§è´¨ï¼š
- æœ‰å‘å›¾ï¼šä¾èµ–å…³ç³»æœ‰æ–¹å‘
- å¯èƒ½åŒ…å«ç¯ï¼šå¾ªç¯ä¾èµ–
- æƒé‡è¾¹ï¼šä¾èµ–å¼ºåº¦
```

**å®šä¹‰4**: è¿½è¸ªå›¾

```text
è®¾è¿½è¸ªå›¾G_t = (V_t, E_t)ä¸ºï¼š
V_t = SP(t) (Spané›†åˆ)
E_t = {(spáµ¢, spâ±¼) | parent_span_id(spâ±¼) = span_id(spáµ¢)}

å›¾çš„æ€§è´¨ï¼š
- æœ‰å‘æ— ç¯å›¾(DAG)
- æ ‘å½¢ç»“æ„
- æ—¶é—´æœ‰åº
```

#### ç½‘ç»œæ‹“æ‰‘åˆ†æ

**å®šä¹‰5**: ç½‘ç»œæ‹“æ‰‘å›¾

```text
è®¾ç½‘ç»œæ‹“æ‰‘å›¾G_n = (V_n, E_n)ä¸ºï¼š
V_n = {èŠ‚ç‚¹é›†åˆ}
E_n = {(váµ¢, vâ±¼) | èŠ‚ç‚¹váµ¢ä¸vâ±¼ç›´æ¥è¿æ¥}

å›¾çš„æ€§è´¨ï¼š
- æ— å‘å›¾ï¼šåŒå‘è¿æ¥
- æƒé‡è¾¹ï¼šè¿æ¥è´¨é‡
- å¯èƒ½ä¸è¿é€š
```

**å®šç†3**: ç½‘ç»œè¿é€šæ€§å®šç†

```text
å¯¹äºç½‘ç»œæ‹“æ‰‘å›¾G = (V, E)ï¼Œå¦‚æœï¼š
1. å›¾Gæ˜¯è¿é€šçš„
2. æ¯ä¸ªèŠ‚ç‚¹çš„åº¦è‡³å°‘ä¸º1

åˆ™ç½‘ç»œæ˜¯å¯è¾¾çš„ï¼Œå³ä»»æ„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´å­˜åœ¨è·¯å¾„ã€‚

è¯æ˜ï¼š
ç”±äºå›¾Gè¿é€šï¼Œå¯¹äºä»»æ„váµ¢, vâ±¼ âˆˆ Vï¼Œå­˜åœ¨è·¯å¾„P(váµ¢, vâ±¼)ã€‚
ç”±äºæ¯ä¸ªèŠ‚ç‚¹åº¦è‡³å°‘ä¸º1ï¼Œä¸å­˜åœ¨å­¤ç«‹èŠ‚ç‚¹ã€‚
å› æ­¤ç½‘ç»œæ˜¯å¯è¾¾çš„ã€‚
```

## ğŸ” æ‹“æ‰‘å­¦åœ¨å¯è§‚æµ‹æ€§ä¸­çš„åº”ç”¨

### æœåŠ¡æ‹“æ‰‘åˆ†æ

#### æœåŠ¡ä¾èµ–åˆ†æ

**å®šä¹‰6**: æœåŠ¡ä¾èµ–å¼ºåº¦

```text
è®¾æœåŠ¡sáµ¢å¯¹æœåŠ¡sâ±¼çš„ä¾èµ–å¼ºåº¦ä¸ºï¼š
D(sáµ¢, sâ±¼) = |{r âˆˆ R | source(r) = sáµ¢ âˆ§ target(r) = sâ±¼}| / |{r âˆˆ R | source(r) = sáµ¢}|

å…¶ä¸­Rä¸ºè¯·æ±‚é›†åˆï¼Œsource(r)ä¸ºè¯·æ±‚æºæœåŠ¡ï¼Œtarget(r)ä¸ºè¯·æ±‚ç›®æ ‡æœåŠ¡ã€‚
```

**å®šä¹‰7**: æœåŠ¡é‡è¦æ€§åº¦é‡

```text
è®¾æœåŠ¡sçš„é‡è¦æ€§åº¦é‡ä¸ºï¼š
I(s) = Î£áµ¢ D(sáµ¢, s) + Î£â±¼ D(s, sâ±¼)

å…¶ä¸­ç¬¬ä¸€é¡¹ä¸ºå…¥åº¦é‡è¦æ€§ï¼Œç¬¬äºŒé¡¹ä¸ºå‡ºåº¦é‡è¦æ€§ã€‚
```

**å®šç†4**: æœåŠ¡é‡è¦æ€§æ’åºå®šç†

```text
å¯¹äºæœåŠ¡é›†åˆSï¼ŒæŒ‰é‡è¦æ€§åº¦é‡I(s)æ’åºï¼š
I(sâ‚) â‰¥ I(sâ‚‚) â‰¥ ... â‰¥ I(sâ‚™)

åˆ™æ’åºåçš„æœåŠ¡é›†åˆæ»¡è¶³ï¼š
1. é«˜é‡è¦æ€§æœåŠ¡å¯¹ç³»ç»Ÿå½±å“æ›´å¤§
2. ä½é‡è¦æ€§æœåŠ¡å¯ä»¥ä¼˜å…ˆä¼˜åŒ–æˆ–ç§»é™¤
3. é‡è¦æ€§åˆ†å¸ƒåæ˜ ç³»ç»Ÿæ¶æ„ç‰¹å¾

è¯æ˜ï¼š
ç”±äºI(s) = Î£áµ¢ D(sáµ¢, s) + Î£â±¼ D(s, sâ±¼)ï¼Œ
I(s)è¶Šå¤§ï¼Œè¯´æ˜æœåŠ¡sçš„ä¾èµ–å…³ç³»è¶Šå¤šï¼Œå¯¹ç³»ç»Ÿå½±å“è¶Šå¤§ã€‚
å› æ­¤æŒ‰I(s)æ’åºå¯ä»¥åæ˜ æœåŠ¡çš„é‡è¦æ€§ã€‚
```

#### æ•…éšœä¼ æ’­åˆ†æ

**å®šä¹‰8**: æ•…éšœä¼ æ’­æ¦‚ç‡

```text
è®¾æœåŠ¡sáµ¢å‘ç”Ÿæ•…éšœæ—¶ï¼Œæ•…éšœä¼ æ’­åˆ°æœåŠ¡sâ±¼çš„æ¦‚ç‡ä¸ºï¼š
P_fault(sáµ¢ â†’ sâ±¼) = D(sáµ¢, sâ±¼) Ã— P_failure(sáµ¢)

å…¶ä¸­P_failure(sáµ¢)ä¸ºæœåŠ¡sáµ¢çš„æ•…éšœæ¦‚ç‡ã€‚
```

**å®šä¹‰9**: æ•…éšœå½±å“èŒƒå›´

```text
è®¾æœåŠ¡så‘ç”Ÿæ•…éšœæ—¶ï¼Œå…¶å½±å“èŒƒå›´ä¸ºï¼š
Impact(s) = {s' âˆˆ S | å­˜åœ¨è·¯å¾„ä»såˆ°s'ä¸”P_fault(s â†’ s') > Î¸}

å…¶ä¸­Î¸ä¸ºæ•…éšœä¼ æ’­é˜ˆå€¼ã€‚
```

**å®šç†5**: æ•…éšœä¼ æ’­ä¸Šç•Œå®šç†

```text
å¯¹äºæœåŠ¡sçš„æ•…éšœä¼ æ’­ï¼Œå…¶å½±å“èŒƒå›´æ»¡è¶³ï¼š
|Impact(s)| â‰¤ |S| Ã— max{D(s, s') | s' âˆˆ S}

è¯æ˜ï¼š
ç”±äºP_fault(s â†’ s') = D(s, s') Ã— P_failure(s) â‰¤ D(s, s')ï¼Œ
ä¸”P_failure(s) â‰¤ 1ï¼Œ
å› æ­¤|Impact(s)| â‰¤ |{s' âˆˆ S | D(s, s') > Î¸}|
â‰¤ |S| Ã— max{D(s, s') | s' âˆˆ S}
```

### æ—¶é—´æ‹“æ‰‘åˆ†æ

#### æ—¶é—´åºåˆ—åˆ†æ

**å®šä¹‰10**: æ—¶é—´åºåˆ—æ‹“æ‰‘

```text
è®¾æ—¶é—´åºåˆ—T = {tâ‚, tâ‚‚, ..., tâ‚™}ï¼Œå®šä¹‰æ—¶é—´åºåˆ—æ‹“æ‰‘ä¸ºï¼š
Ï„_time = {U âŠ† T | Uæ˜¯æ—¶é—´è¿ç»­çš„}

å…¶ä¸­æ—¶é—´è¿ç»­æ€§å®šä¹‰ä¸ºï¼š
Uæ—¶é—´è¿ç»­ âŸº âˆ€táµ¢, tâ±¼ âˆˆ U, |i - j| = 1 âŸ¹ táµ¢, tâ±¼æ—¶é—´è¿ç»­
```

**å®šä¹‰11**: æ—¶é—´èšç±»

```text
è®¾æ—¶é—´åºåˆ—Tï¼Œå®šä¹‰æ—¶é—´èšç±»ä¸ºï¼š
C_time = {Câ‚, Câ‚‚, ..., Câ‚–}

å…¶ä¸­æ¯ä¸ªèšç±»Cáµ¢æ»¡è¶³ï¼š
1. Cáµ¢ âŠ† T
2. Cáµ¢åœ¨æ—¶é—´æ‹“æ‰‘ä¸‹è¿é€š
3. âˆ€táµ¢, tâ±¼ âˆˆ Cáµ¢, |táµ¢.timestamp - tâ±¼.timestamp| â‰¤ Î´

å…¶ä¸­Î´ä¸ºæ—¶é—´èšç±»é˜ˆå€¼ã€‚
```

**å®šç†6**: æ—¶é—´èšç±»æœ€ä¼˜æ€§å®šç†

```text
å¯¹äºæ—¶é—´åºåˆ—Tï¼Œå¦‚æœèšç±»C_timeæ»¡è¶³ï¼š
1. æ¯ä¸ªèšç±»å†…éƒ¨æ—¶é—´è¿ç»­
2. èšç±»é—´æ—¶é—´åˆ†ç¦»
3. èšç±»æ•°é‡æœ€å°

åˆ™C_timeæ˜¯æœ€ä¼˜æ—¶é—´èšç±»ã€‚

è¯æ˜ï¼š
è®¾C_time = {Câ‚, Câ‚‚, ..., Câ‚–}ä¸ºæ»¡è¶³æ¡ä»¶çš„æ—¶é—´èšç±»ã€‚
ç”±äºæ¯ä¸ªèšç±»å†…éƒ¨æ—¶é—´è¿ç»­ï¼Œèšç±»é—´æ—¶é—´åˆ†ç¦»ï¼Œ
ä¸”èšç±»æ•°é‡æœ€å°ï¼Œå› æ­¤C_timeæ˜¯æœ€ä¼˜çš„ã€‚
```

#### æ—¶é—´å¼‚å¸¸æ£€æµ‹

**å®šä¹‰12**: æ—¶é—´å¼‚å¸¸åº¦é‡

```text
è®¾æ—¶é—´åºåˆ—T = {tâ‚, tâ‚‚, ..., tâ‚™}ï¼Œå®šä¹‰æ—¶é—´å¼‚å¸¸åº¦é‡ä¸ºï¼š
A_time(táµ¢) = |táµ¢.timestamp - E[T]| / Ïƒ[T]

å…¶ä¸­E[T]ä¸ºæ—¶é—´åºåˆ—æœŸæœ›ï¼ŒÏƒ[T]ä¸ºæ—¶é—´åºåˆ—æ ‡å‡†å·®ã€‚
```

**å®šä¹‰13**: æ—¶é—´å¼‚å¸¸æ£€æµ‹

```text
è®¾æ—¶é—´å¼‚å¸¸é˜ˆå€¼ä¸ºÎ±ï¼Œåˆ™æ—¶é—´å¼‚å¸¸æ£€æµ‹å‡½æ•°ä¸ºï¼š
D_time(táµ¢) = {
    1, if A_time(táµ¢) > Î±
    0, otherwise
}
```

**å®šç†7**: æ—¶é—´å¼‚å¸¸æ£€æµ‹å‡†ç¡®æ€§å®šç†

```text
å¯¹äºæ—¶é—´åºåˆ—Tï¼Œå¦‚æœï¼š
1. æ­£å¸¸æ—¶é—´åˆ†å¸ƒä¸ºN(Î¼, ÏƒÂ²)
2. å¼‚å¸¸æ—¶é—´åˆ†å¸ƒä¸ºN(Î¼ + Î´, ÏƒÂ²)
3. å¼‚å¸¸æ¦‚ç‡ä¸ºp

åˆ™æ—¶é—´å¼‚å¸¸æ£€æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š
Accuracy = p Ã— P(A_time > Î± | å¼‚å¸¸) + (1-p) Ã— P(A_time â‰¤ Î± | æ­£å¸¸)

è¯æ˜ï¼š
è®¾TP, TN, FP, FNåˆ†åˆ«ä¸ºçœŸæ­£ä¾‹ã€çœŸè´Ÿä¾‹ã€å‡æ­£ä¾‹ã€å‡è´Ÿä¾‹æ•°é‡ã€‚
åˆ™Accuracy = (TP + TN) / (TP + TN + FP + FN)
= p Ã— P(A_time > Î± | å¼‚å¸¸) + (1-p) Ã— P(A_time â‰¤ Î± | æ­£å¸¸)
```

## ğŸŒ ç½‘ç»œåˆ†æåœ¨å¯è§‚æµ‹æ€§ä¸­çš„åº”ç”¨

### ç½‘ç»œæ‹“æ‰‘å‘ç°

#### è‡ªåŠ¨æ‹“æ‰‘å‘ç°

**ç®—æ³•1**: åŸºäºè¿½è¸ªçš„æ‹“æ‰‘å‘ç°

```text
è¾“å…¥ï¼šè¿½è¸ªé›†åˆT = {tâ‚, tâ‚‚, ..., tâ‚™}
è¾“å‡ºï¼šæœåŠ¡æ‹“æ‰‘å›¾G = (V, E)

1. åˆå§‹åŒ–ï¼šV = âˆ…, E = âˆ…
2. for each táµ¢ âˆˆ T:
   a. æå–æœåŠ¡é›†åˆS(táµ¢) = {s | s âˆˆ spans(táµ¢)}
   b. V = V âˆª S(táµ¢)
   c. for each (sâ±¼, sâ‚–) âˆˆ spans(táµ¢):
      if parent_span_id(sâ‚–) = span_id(sâ±¼):
         E = E âˆª {(sâ±¼, sâ‚–)}
3. è®¡ç®—è¾¹æƒé‡ï¼šw(sâ±¼, sâ‚–) = |{t âˆˆ T | (sâ±¼, sâ‚–) âˆˆ spans(t)}|
4. è¿”å›G = (V, E, w)
```

**ç®—æ³•2**: åŸºäºæŒ‡æ ‡çš„æ‹“æ‰‘å‘ç°

```text
è¾“å…¥ï¼šæŒ‡æ ‡é›†åˆM = {mâ‚, mâ‚‚, ..., mâ‚˜}
è¾“å‡ºï¼šæœåŠ¡æ‹“æ‰‘å›¾G = (V, E)

1. åˆå§‹åŒ–ï¼šV = âˆ…, E = âˆ…
2. for each máµ¢ âˆˆ M:
   a. æå–æœåŠ¡æ ‡ç­¾ï¼šs = máµ¢.labels["service"]
   b. V = V âˆª {s}
   c. æå–ä¾èµ–å…³ç³»ï¼šdeps = máµ¢.labels["dependencies"]
   d. for each dep âˆˆ deps:
      E = E âˆª {(s, dep)}
3. è®¡ç®—è¾¹æƒé‡ï¼šw(sâ±¼, sâ‚–) = |{m âˆˆ M | (sâ±¼, sâ‚–) âˆˆ deps(m)}|
4. è¿”å›G = (V, E, w)
```

#### æ‹“æ‰‘éªŒè¯

**å®šä¹‰14**: æ‹“æ‰‘ä¸€è‡´æ€§

```text
è®¾æ‹“æ‰‘å›¾G = (V, E)ä¸è¿½è¸ªé›†åˆTä¸€è‡´ï¼Œå½“ä¸”ä»…å½“ï¼š
âˆ€(sáµ¢, sâ±¼) âˆˆ E, âˆƒt âˆˆ Tä½¿å¾—(sáµ¢, sâ±¼) âˆˆ spans(t)
```

**å®šä¹‰15**: æ‹“æ‰‘å®Œæ•´æ€§

```text
è®¾æ‹“æ‰‘å›¾G = (V, E)å®Œæ•´ï¼Œå½“ä¸”ä»…å½“ï¼š
âˆ€t âˆˆ T, âˆ€(sáµ¢, sâ±¼) âˆˆ spans(t), (sáµ¢, sâ±¼) âˆˆ E
```

**å®šç†8**: æ‹“æ‰‘ä¸€è‡´æ€§å®šç†

```text
å¯¹äºæ‹“æ‰‘å›¾Gå’Œè¿½è¸ªé›†åˆTï¼Œå¦‚æœï¼š
1. Gä¸Tä¸€è‡´
2. Gå®Œæ•´
3. Tè¦†ç›–æ‰€æœ‰æœåŠ¡

åˆ™Gæ˜¯Tçš„å‡†ç¡®æ‹“æ‰‘è¡¨ç¤ºã€‚

è¯æ˜ï¼š
ç”±äºGä¸Tä¸€è‡´ï¼ŒGä¸­çš„è¾¹éƒ½æ¥è‡ªTã€‚
ç”±äºGå®Œæ•´ï¼ŒTä¸­çš„æ‰€æœ‰è¾¹éƒ½åœ¨Gä¸­ã€‚
ç”±äºTè¦†ç›–æ‰€æœ‰æœåŠ¡ï¼ŒGåŒ…å«æ‰€æœ‰æœåŠ¡ã€‚
å› æ­¤Gæ˜¯Tçš„å‡†ç¡®æ‹“æ‰‘è¡¨ç¤ºã€‚
```

### ç½‘ç»œæ€§èƒ½åˆ†æ

#### å»¶è¿Ÿåˆ†æ

**å®šä¹‰16**: ç½‘ç»œå»¶è¿Ÿåº¦é‡

```text
è®¾æœåŠ¡sáµ¢åˆ°æœåŠ¡sâ±¼çš„ç½‘ç»œå»¶è¿Ÿä¸ºï¼š
L_net(sáµ¢, sâ±¼) = E[end_time(spâ±¼) - start_time(spáµ¢) | spáµ¢ â†’ spâ±¼]

å…¶ä¸­spáµ¢ â†’ spâ±¼è¡¨ç¤ºä»spáµ¢åˆ°spâ±¼çš„è¯·æ±‚ã€‚
```

**å®šä¹‰17**: ç½‘ç»œå»¶è¿Ÿåˆ†å¸ƒ

```text
è®¾ç½‘ç»œå»¶è¿Ÿåˆ†å¸ƒä¸ºï¼š
L_net ~ N(Î¼_net, Ïƒ_netÂ²)

å…¶ä¸­Î¼_netä¸ºå¹³å‡ç½‘ç»œå»¶è¿Ÿï¼ŒÏƒ_netÂ²ä¸ºç½‘ç»œå»¶è¿Ÿæ–¹å·®ã€‚
```

**å®šç†9**: ç½‘ç»œå»¶è¿Ÿä¸Šç•Œå®šç†

```text
å¯¹äºç½‘ç»œå»¶è¿ŸL_netï¼Œå…¶P99å»¶è¿Ÿæ»¡è¶³ï¼š
P99(L_net) â‰¤ Î¼_net + 2.33 Ã— Ïƒ_net

è¯æ˜ï¼š
ç”±äºL_net ~ N(Î¼_net, Ïƒ_netÂ²)ï¼Œ
P99(L_net) = Î¼_net + z_0.99 Ã— Ïƒ_net
å…¶ä¸­z_0.99 = 2.33ä¸ºæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„99åˆ†ä½æ•°ã€‚
å› æ­¤P99(L_net) â‰¤ Î¼_net + 2.33 Ã— Ïƒ_net
```

#### ååé‡åˆ†æ

**å®šä¹‰18**: ç½‘ç»œååé‡

```text
è®¾ç½‘ç»œååé‡ä¸ºï¼š
T_net = |R| / T_total

å…¶ä¸­|R|ä¸ºè¯·æ±‚æ€»æ•°ï¼ŒT_totalä¸ºæ€»æ—¶é—´ã€‚
```

**å®šä¹‰19**: ç½‘ç»œåˆ©ç”¨ç‡

```text
è®¾ç½‘ç»œåˆ©ç”¨ç‡ä¸ºï¼š
U_net = T_net / T_capacity

å…¶ä¸­T_capacityä¸ºç½‘ç»œå®¹é‡ã€‚
```

**å®šç†10**: ç½‘ç»œåˆ©ç”¨ç‡ä¸Šç•Œå®šç†

```text
å¯¹äºç½‘ç»œåˆ©ç”¨ç‡U_netï¼Œå¦‚æœU_net < 1ï¼Œåˆ™ç½‘ç»œç¨³å®šã€‚
å¦‚æœU_net â‰¥ 1ï¼Œåˆ™ç½‘ç»œä¸ç¨³å®šã€‚

è¯æ˜ï¼š
å½“U_net < 1æ—¶ï¼Œç½‘ç»œå¤„ç†èƒ½åŠ›å¤§äºè¯·æ±‚åˆ°è¾¾ç‡ï¼Œ
ç³»ç»Ÿç¨³å®šã€‚
å½“U_net â‰¥ 1æ—¶ï¼Œç½‘ç»œå¤„ç†èƒ½åŠ›å°äºç­‰äºè¯·æ±‚åˆ°è¾¾ç‡ï¼Œ
ç³»ç»Ÿä¸ç¨³å®šã€‚
```

## ğŸ”¬ åº”ç”¨å®ä¾‹

### å®ä¾‹1ï¼šæœåŠ¡æ‹“æ‰‘åˆ†æ

**åœºæ™¯**: åˆ†æå¾®æœåŠ¡ç³»ç»Ÿçš„æœåŠ¡ä¾èµ–å…³ç³»

**æ•°æ®**:

- æœåŠ¡é›†åˆï¼šS = {gateway, auth, user, order, payment}
- è¿½è¸ªæ•°æ®ï¼š1000ä¸ªè¯·æ±‚çš„è¿½è¸ªä¿¡æ¯

**åˆ†æè¿‡ç¨‹**:

1. **æ„å»ºæœåŠ¡ä¾èµ–å›¾**:

   ```text
   G = (V, E)å…¶ä¸­ï¼š
   V = {gateway, auth, user, order, payment}
   E = {(gateway, auth), (gateway, user), (user, order), (order, payment)}
   ```

2. **è®¡ç®—æœåŠ¡é‡è¦æ€§**:

   ```text
   I(gateway) = 4 (å…¥åº¦0 + å‡ºåº¦4)
   I(auth) = 1 (å…¥åº¦1 + å‡ºåº¦0)
   I(user) = 2 (å…¥åº¦1 + å‡ºåº¦1)
   I(order) = 2 (å…¥åº¦1 + å‡ºåº¦1)
   I(payment) = 1 (å…¥åº¦1 + å‡ºåº¦0)
   ```

3. **é‡è¦æ€§æ’åº**:

   ```text
   gateway > user = order > auth = payment
   ```

**ç»“è®º**: gatewayæ˜¯æœ€é‡è¦çš„æœåŠ¡ï¼Œéœ€è¦ä¼˜å…ˆç›‘æ§å’Œä¿æŠ¤ã€‚

### å®ä¾‹2ï¼šæ•…éšœä¼ æ’­åˆ†æ

**åœºæ™¯**: åˆ†ææœåŠ¡æ•…éšœçš„ä¼ æ’­å½±å“

**æ•°æ®**:

- æœåŠ¡æ•…éšœæ¦‚ç‡ï¼šP_failure(auth) = 0.01
- ä¾èµ–å¼ºåº¦ï¼šD(gateway, auth) = 0.8

**åˆ†æè¿‡ç¨‹**:

1. **è®¡ç®—æ•…éšœä¼ æ’­æ¦‚ç‡**:

   ```text
   P_fault(gateway â†’ auth) = D(gateway, auth) Ã— P_failure(auth)
   = 0.8 Ã— 0.01 = 0.008
   ```

2. **åˆ†æå½±å“èŒƒå›´**:

   ```text
   å¦‚æœauthæ•…éšœï¼Œå½±å“gatewayçš„æ¦‚ç‡ä¸º0.008
   å¦‚æœgatewayå—å½±å“ï¼Œå¯èƒ½å½±å“æ‰€æœ‰ä¸‹æ¸¸æœåŠ¡
   ```

**ç»“è®º**: authæœåŠ¡çš„æ•…éšœä¼šä»¥0.8çš„æ¦‚ç‡å½±å“gatewayï¼Œè¿›è€Œå½±å“æ•´ä¸ªç³»ç»Ÿã€‚

### å®ä¾‹3ï¼šæ—¶é—´å¼‚å¸¸æ£€æµ‹

**åœºæ™¯**: æ£€æµ‹ç³»ç»Ÿå“åº”æ—¶é—´çš„å¼‚å¸¸

**æ•°æ®**:

- æ­£å¸¸å“åº”æ—¶é—´ï¼šN(100ms, 10Â²)
- å¼‚å¸¸å“åº”æ—¶é—´ï¼šN(200ms, 10Â²)
- å¼‚å¸¸æ¦‚ç‡ï¼šp = 0.05

**åˆ†æè¿‡ç¨‹**:

1. **è®¾ç½®å¼‚å¸¸é˜ˆå€¼**:

   ```text
   Î± = 2.33 (å¯¹åº”P99)
   ```

2. **è®¡ç®—å¼‚å¸¸æ£€æµ‹å‡†ç¡®ç‡**:

   ```text
   P(A_time > Î± | å¼‚å¸¸) = P(Z > (200-100)/10) = P(Z > 10) â‰ˆ 1
   P(A_time â‰¤ Î± | æ­£å¸¸) = P(Z â‰¤ 2.33) â‰ˆ 0.99
   Accuracy = 0.05 Ã— 1 + 0.95 Ã— 0.99 = 0.9905
   ```

**ç»“è®º**: æ—¶é—´å¼‚å¸¸æ£€æµ‹çš„å‡†ç¡®ç‡ä¸º99.05%ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæ£€æµ‹å“åº”æ—¶é—´å¼‚å¸¸ã€‚

## ğŸ“š å‚è€ƒæ–‡çŒ®

1. **æ‹“æ‰‘å­¦åŸºç¡€**
   - Munkres, J. R. (2000). Topology. Prentice Hall.
   - Kelley, J. L. (1955). General Topology. Van Nostrand.

2. **å›¾è®ºåŸºç¡€**
   - Bondy, J. A., & Murty, U. S. R. (2008). Graph Theory. Springer.
   - Cormen, T. H., Leiserson, C. E., Rivest, R. L., & Stein, C. (2009). Introduction to Algorithms. MIT Press.

3. **ç½‘ç»œåˆ†æ**
   - Newman, M. E. J. (2010). Networks: An Introduction. Oxford University Press.
   - BarabÃ¡si, A. L. (2016). Network Science. Cambridge University Press.

4. **åˆ†å¸ƒå¼ç³»ç»Ÿ**
   - Tanenbaum, A. S., & Van Steen, M. (2017). Distributed Systems: Principles and Paradigms. Pearson.
   - Coulouris, G., Dollimore, J., Kindberg, T., & Blair, G. (2011). Distributed Systems: Concepts and Design. Addison-Wesley.

5. **å¯è§‚æµ‹æ€§**
   - Charity Majors, Liz Fong-Jones, & George Miranda (2019). Observability Engineering. O'Reilly Media.
   - Ben Sigelman (2020). Distributed Tracing in Practice. O'Reilly Media.

---

*æœ¬æ–‡æ¡£ä¸ºOpenTelemetryç³»ç»Ÿæä¾›æ‹“æ‰‘å­¦å’Œç½‘ç»œåˆ†æçš„ç†è®ºåŸºç¡€ï¼Œä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯è§‚æµ‹æ€§åˆ†ææä¾›æ•°å­¦æ”¯æ’‘ã€‚*
