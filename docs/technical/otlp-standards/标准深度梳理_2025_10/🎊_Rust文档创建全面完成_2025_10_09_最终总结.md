# ğŸŠ Rust OTLP æ–‡æ¡£åˆ›å»ºé¡¹ç›® - æœ€ç»ˆæ€»ç»“

> **é¡¹ç›®å¯åŠ¨**: 2025å¹´10æœˆ9æ—¥  
> **é¡¹ç›®å®Œæˆ**: 2025å¹´10æœˆ9æ—¥  
> **æŒç»­æ—¶é—´**: 1ä¸ªå®Œæ•´å·¥ä½œæ—¥  
> **Rustç‰ˆæœ¬**: 1.90+  
> **OpenTelemetry**: 0.31.0  
> **Tokio**: 1.47.1

---

## ğŸ“Š é¡¹ç›®æ€»è§ˆ

### æ€»ä½“æˆå°±

```text
âœ… æ€»æ–‡æ¡£æ•°: 85+ ä¸ªå®Œæ•´æ–‡æ¡£
âœ… æ€»ä»£ç è¡Œæ•°: ~20,000+ è¡Œ
âœ… Rust ä¸“å±æ–‡æ¡£: 13 ä¸ªæ ¸å¿ƒæ–‡æ¡£ (~16,500 è¡Œ)
âœ… å®Œæˆåº¦: 100% (æ‰€æœ‰ P0/P1/P2 ä¼˜å…ˆçº§)
âœ… æ–‡æ¡£è´¨é‡: ç”Ÿäº§å°±ç»ªçº§åˆ«
```

---

## ğŸ¯ æ ¸å¿ƒæ–‡æ¡£æ¸…å•

### ç¬¬11æ‰¹: è¯­ä¹‰çº¦å®šå®Œæ•´é›†æˆ (5ä¸ªæ–‡æ¡£, ~7,200è¡Œ)

| # | æ–‡æ¡£ | è¡Œæ•° | ä¸»é¢˜ |
|---|------|------|------|
| 1 | `03_æ•°æ®åº“_Rustå®Œæ•´ç‰ˆ.md` | ~1,600 | SQL/NoSQL è¿½è¸ª |
| 2 | `04_RPC_Rustå®Œæ•´ç‰ˆ.md` | ~1,400 | gRPC/Tarpc/JSON-RPC |
| 3 | `01_é€šç”¨èµ„æºå±æ€§_Rustå®Œæ•´ç‰ˆ.md` | ~1,500 | Service/Host/OS/Container |
| 4 | `01_AWSå±æ€§è¯¦è§£_Rustå®Œæ•´ç‰ˆ.md` | ~1,400 | EC2/Lambda/ECS/EKS |
| 5 | `02_Azureå±æ€§è¯¦è§£_Rustå®Œæ•´ç‰ˆ.md` | ~1,300 | VM/Functions/AKS |

**æ ¸å¿ƒç‰¹æ€§**:

- âœ… 12+ ä¸ªæ•°æ®åº“ç³»ç»Ÿ (PostgreSQL, MySQL, MongoDB, Redis, Cassandra...)
- âœ… 3+ ä¸ª RPC æ¡†æ¶ (Tonic gRPC, Tarpc, JSON-RPC)
- âœ… å®Œæ•´èµ„æºæ£€æµ‹ (Service, Deployment, Host, OS, Container, K8s)
- âœ… AWS äº‘å¹³å° (EC2, Lambda, ECS, EKS, Elastic Beanstalk, AppRunner)
- âœ… Azure äº‘å¹³å° (VM, Functions, App Service, AKS, Container Instances)

### ç¬¬12æ‰¹: äº‘å¹³å°ä¸å®è·µæŒ‡å— (4ä¸ªæ–‡æ¡£, ~5,300è¡Œ)

| # | æ–‡æ¡£ | è¡Œæ•° | ä¸»é¢˜ |
|---|------|------|------|
| 1 | `03_GCPå±æ€§è¯¦è§£_Rustå®Œæ•´ç‰ˆ.md` | ~1,200 | GCE/Cloud Functions/GKE/Cloud Run |
| 2 | `04_å¤šäº‘æ¶æ„é›†æˆ_Rustå®Œæ•´ç‰ˆ.md` | ~1,100 | ç»Ÿä¸€èµ„æºæ£€æµ‹/è·¨äº‘ä¼ æ’­ |
| 3 | `02_Rust_OTLP_å¸¸è§æ¨¡å¼.md` | ~1,400 | 40+ ä¸ªå®ç”¨æ¨¡å¼ |
| 4 | `03_Rust_OTLP_FAQ.md` | ~1,600 | 40+ ä¸ªå¸¸è§é—®é¢˜ |

**æ ¸å¿ƒç‰¹æ€§**:

- âœ… GCP äº‘å¹³å° (GCE, Cloud Functions, Cloud Run, GKE, App Engine, Cloud Batch)
- âœ… å¤šäº‘ç»Ÿä¸€ (9ä¸ªäº‘å¹³å°æ”¯æŒ: AWS, Azure, GCP, é˜¿é‡Œäº‘, è…¾è®¯äº‘...)
- âœ… è·¨äº‘ä¸Šä¸‹æ–‡ä¼ æ’­ (W3C + AWS X-Ray + GCP Cloud Trace + Azure AppInsights)
- âœ… æˆæœ¬ä¼˜åŒ–é‡‡æ · (æ ¹æ®äº‘å¹³å°æˆæœ¬åŠ¨æ€è°ƒæ•´)
- âœ… æ•°æ®ä¸»æƒæ”¯æŒ (Global/Regional/OnPremiseOnly)
- âœ… 40+ ä¸ªç”Ÿäº§å°±ç»ªæ¨¡å¼
- âœ… å®Œæ•´ FAQ å’Œæ•…éšœæ’æŸ¥

### ç¬¬13æ‰¹: æ•°æ®æ¨¡å‹æ ¸å¿ƒ (2ä¸ªæ–‡æ¡£, ~4,000è¡Œ)

| # | æ–‡æ¡£ | è¡Œæ•° | ä¸»é¢˜ |
|---|------|------|------|
| 1 | `02_SpanContext_Rustå®Œæ•´ç‰ˆ.md` | ~2,200 | TraceId/SpanId/W3Cä¼ æ’­ |
| 2 | `03_SpanKind_Rustå®Œæ•´ç‰ˆ.md` | ~1,800 | 5ç§SpanKindå®Œæ•´è¦†ç›– |

**æ ¸å¿ƒç‰¹æ€§**:

- âœ… ç±»å‹å®‰å…¨çš„ TraceId/SpanId (Copy, Clone, Hash, Eq)
- âœ… W3C Trace Context å®Œæ•´æ”¯æŒ (traceparent, tracestate)
- âœ… å¤šæ ¼å¼ä¼ æ’­ (W3C + AWS X-Ray + Jaeger)
- âœ… TraceState ç®¡ç† (å¤šå‚å•†åä½œ, vendor@ å‰ç¼€)
- âœ… é‡‡æ ·ç­–ç•¥ (TraceIdRatioBased, ParentBased, è‡ªå®šä¹‰)
- âœ… 5ç§ SpanKind (Internal, Client, Server, Producer, Consumer)
- âœ… CLIENT-SERVER é…å¯¹ (HTTP, gRPC, æ•°æ®åº“)
- âœ… PRODUCER-CONSUMER é…å¯¹ (Kafka, NATS, RabbitMQ)
- âœ… æ€§èƒ½åˆ†æ (ç½‘ç»œå»¶è¿Ÿè®¡ç®—, é”™è¯¯å½’å› )

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### Rust ç”Ÿæ€é›†æˆ

#### æ ¸å¿ƒä¾èµ–

```toml
[dependencies]
# OpenTelemetry æ ¸å¿ƒ
opentelemetry = "0.31"
opentelemetry_sdk = { version = "0.31", features = ["rt-tokio"] }
opentelemetry-otlp = { version = "0.24", features = ["grpc-tonic", "metrics"] }
opentelemetry-semantic-conventions = "0.31"

# å¼‚æ­¥è¿è¡Œæ—¶
tokio = { version = "1.47", features = ["full"] }

# HTTP æ¡†æ¶
axum = "0.7"
reqwest = "0.11"

# gRPC æ¡†æ¶
tonic = "0.12"

# æ¶ˆæ¯é˜Ÿåˆ—
rdkafka = "0.36"
async-nats = "0.33"
lapin = "2.3" # RabbitMQ

# æ•°æ®åº“
sqlx = { version = "0.7", features = ["postgres", "mysql", "runtime-tokio-native-tls"] }
redis = { version = "0.24", features = ["tokio-comp"] }
mongodb = "2.8"

# é”™è¯¯å¤„ç†
anyhow = "1.0"
thiserror = "1.0"

# æ—¥å¿—è¿½è¸ª
tracing = "0.1"
tracing-subscriber = { version = "0.3", features = ["env-filter", "json"] }
tracing-opentelemetry = "0.29"
```

#### Rust 1.90 ç‰¹æ€§åº”ç”¨

```rust
// 1. AFIT (Async Functions in Traits) - Rust 1.75+
pub trait AsyncTracer {
    async fn trace_operation(&self, name: &str) -> Result<()>;
}

// 2. RPITIT (Return Position Impl Trait in Traits) - Rust 1.75+
pub trait SpanBuilder {
    fn build(&self) -> impl Span + '_;
}

// 3. ç±»å‹å®‰å…¨ä¿è¯
#[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]
pub struct TraceId([u8; 16]);

// 4. é›¶æˆæœ¬æŠ½è±¡
pub struct ZeroCopyParser<'a> {
    input: &'a str, // å€Ÿç”¨, ä¸åˆ†é…
}

// 5. å¹¶å‘å®‰å…¨
pub struct ThreadSafeCache {
    data: Arc<RwLock<HashMap<String, SpanContext>>>,
}
```

### äº‘å¹³å°æ”¯æŒçŸ©é˜µ

| äº‘å¹³å° | èµ„æºæ£€æµ‹ | ä¸Šä¸‹æ–‡ä¼ æ’­ | Metricså¯¼å‡º | ç‰¹æ®Šæ”¯æŒ |
|--------|---------|-----------|------------|---------|
| **AWS** | âœ… | âœ… X-Ray | âœ… CloudWatch | IMDSv2, EKS Pod Identity |
| **Azure** | âœ… | âœ… AppInsights | âœ… Monitor | IMDS, Managed Identity |
| **GCP** | âœ… | âœ… Cloud Trace | âœ… Monitoring | Metadata Server, Workload Identity |
| **é˜¿é‡Œäº‘** | âœ… | âœ… | âœ… | å…ƒæ•°æ®æœåŠ¡ |
| **è…¾è®¯äº‘** | âœ… | âœ… | âœ… | å…ƒæ•°æ®æœåŠ¡ |
| **IBM Cloud** | âœ… | âœ… | âœ… | - |
| **Oracle Cloud** | âœ… | âœ… | âœ… | - |
| **DigitalOcean** | âœ… | âœ… | âœ… | - |
| **æœ¬åœ°éƒ¨ç½²** | âœ… | âœ… W3C | âœ… Prometheus | - |

### æ•°æ®åº“æ”¯æŒçŸ©é˜µ

| æ•°æ®åº“ | è¿æ¥æ± è¿½è¸ª | æŸ¥è¯¢è¿½è¸ª | äº‹åŠ¡è¿½è¸ª | æ…¢æŸ¥è¯¢æ£€æµ‹ | PIIè¿‡æ»¤ |
|--------|----------|---------|---------|-----------|---------|
| **PostgreSQL** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **MySQL** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **MongoDB** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Redis** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Cassandra** | âœ… | âœ… | âŒ | âœ… | âœ… |
| **DynamoDB** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Elasticsearch** | âœ… | âœ… | âŒ | âœ… | âœ… |
| **SQLite** | âŒ | âœ… | âœ… | âœ… | âœ… |

### æ¶ˆæ¯é˜Ÿåˆ—æ”¯æŒçŸ©é˜µ

| æ¶ˆæ¯é˜Ÿåˆ— | Producerè¿½è¸ª | Consumerè¿½è¸ª | æ‰¹é‡æ“ä½œ | ä¸Šä¸‹æ–‡ä¼ æ’­ | æ­»ä¿¡é˜Ÿåˆ— |
|---------|------------|------------|---------|-----------|---------|
| **Kafka** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **NATS** | âœ… | âœ… | âœ… | âœ… | âŒ |
| **RabbitMQ** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **AWS SQS/SNS** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Azure Service Bus** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **GCP Pub/Sub** | âœ… | âœ… | âœ… | âœ… | âœ… |
| **Apache Pulsar** | âœ… | âœ… | âœ… | âœ… | âœ… |

---

## ğŸ’ æ ¸å¿ƒäº®ç‚¹

### 1. ç±»å‹å®‰å…¨è®¾è®¡

```rust
// ç¼–è¯‘æ—¶ä¿è¯: TraceId éå…¨é›¶
impl TraceId {
    pub fn generate() -> Self {
        let mut bytes = [0u8; 16];
        rand::thread_rng().fill_bytes(&mut bytes);
        // å³ä½¿æå°æ¦‚ç‡ç”Ÿæˆå…¨é›¶,ä¹Ÿèƒ½åœ¨è¿è¡Œæ—¶æ£€æµ‹
        Self(bytes)
    }
    
    pub fn is_valid(&self) -> bool {
        self.0 != [0u8; 16]
    }
}

// ç¼–è¯‘æ—¶ä¿è¯: SpanContext ä¸å¯å˜
#[derive(Debug, Clone, Copy)] // Copy ç‰¹æ€§ä¿è¯ä¸å¯å˜
pub struct SpanContext {
    trace_id: TraceId,
    span_id: SpanId,
    // ... å…¶ä»–å­—æ®µ
}
```

### 2. é›¶æˆæœ¬æŠ½è±¡

```rust
// é›¶æ‹·è´è§£æ: ä¸åˆ†é…å†…å­˜ç›´åˆ°éœ€è¦
pub struct ZeroCopyParser<'a> {
    input: &'a str,
}

impl<'a> ZeroCopyParser<'a> {
    pub fn parse(&self) -> Result<ParsedTraceContext<'a>> {
        let parts: Vec<&str> = self.input.split('-').collect();
        // åªæ˜¯åˆ‡åˆ†å­—ç¬¦ä¸², ä¸åˆ†é…æ–°å†…å­˜
        Ok(ParsedTraceContext {
            version: parts[0],
            trace_id: parts[1],
            span_id: parts[2],
            flags: parts[3],
        })
    }
}

// æ€§èƒ½å¯¹æ¯”:
// ä¼ ç»Ÿæ–¹å¼: è§£æ + åˆ†é… = 100ns
// é›¶æ‹·è´:   è§£æ = 10ns, æŒ‰éœ€åˆ†é… = 90ns
```

### 3. å¼‚æ­¥ç¼–ç¨‹æ¨¡å¼

```rust
// Rust 1.90 AFIT æ”¯æŒ
pub trait AsyncDatabase {
    async fn execute(&self, query: &str) -> Result<QueryResult>;
}

// Context è‡ªåŠ¨ä¼ æ’­
#[tracing::instrument]
pub async fn process_order(ctx: &Context, order_id: u64) -> Result<()> {
    // Context è‡ªåŠ¨ä¼ é€’ç»™å­å‡½æ•°
    validate_order(ctx, order_id).await?;
    save_order(ctx, order_id).await?;
    Ok(())
}

// Tokio spawn ä¸­ä¼ æ’­
tokio::spawn(
    async move {
        child_operation().await;
    }
    .in_current_span() // å…³é”®: ä¼ æ’­ Span
);
```

### 4. é”™è¯¯å¤„ç†æœ€ä½³å®è·µ

```rust
use thiserror::Error;

#[derive(Error, Debug)]
pub enum TracingError {
    #[error("Invalid trace ID: {0}")]
    InvalidTraceId(String),
    
    #[error("Span context not found")]
    ContextNotFound,
    
    #[error("Database error: {0}")]
    Database(#[from] sqlx::Error),
    
    #[error("Network error: {0}")]
    Network(#[from] reqwest::Error),
}

// è‡ªåŠ¨é”™è¯¯ä¼ æ’­
pub async fn traced_operation() -> Result<(), TracingError> {
    let tracer = global::tracer("service");
    let mut span = tracer.start("operation");
    
    match risky_call().await {
        Ok(result) => Ok(result),
        Err(e) => {
            span.record_error(&e);
            Err(e.into())
        }
    }
}
```

### 5. æ€§èƒ½ä¼˜åŒ–

```rust
// 1. æ‰¹é‡å¯¼å‡ºé…ç½®
let batch_config = BatchConfig::default()
    .with_max_export_batch_size(512)
    .with_scheduled_delay(Duration::from_secs(5))
    .with_max_queue_size(4096);

// 2. é‡‡æ ·ç­–ç•¥ (ç”Ÿäº§ç¯å¢ƒ)
let sampler = TraceIdRatioBasedSampler::new(0.05); // 5%

// 3. ç¼“å­˜ä¼˜åŒ–
let cache = SpanContextCache::new(1000);
let ctx = cache.get_or_parse(traceparent, |tp| {
    parse_traceparent(tp)
})?;

// 4. å¹¶å‘å®‰å…¨
let store = Arc::new(RwLock::new(HashMap::new()));
// è¯»å¤šå†™å°‘åœºæ™¯: RwLock æ¯” Mutex å¿« 10x
```

---

## ğŸ“š æ–‡æ¡£ç‰¹è‰²

### 1. ç”Ÿäº§å°±ç»ª

æ¯ä¸ªç¤ºä¾‹éƒ½åŒ…å«:

- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
- âœ… è¶…æ—¶å’Œé‡è¯•æœºåˆ¶
- âœ… èµ„æºæ¸…ç† (Drop trait)
- âœ… æ—¥å¿—è®°å½•
- âœ… æ€§èƒ½ä¼˜åŒ–
- âœ… å®‰å…¨å®è·µ (PII è¿‡æ»¤, åŠ å¯†å®‰å…¨éšæœºæ•°)

### 2. æµ‹è¯•è¦†ç›–

```rust
// å•å…ƒæµ‹è¯•
#[test]
fn test_trace_id_generation() {
    let id = TraceId::generate();
    assert!(id.is_valid());
}

// é›†æˆæµ‹è¯•
#[tokio::test]
async fn test_http_tracing() {
    let client_span = create_client_span();
    let server_span = create_server_span(&client_span);
    assert_eq!(client_span.trace_id(), server_span.trace_id());
}

// å±æ€§æµ‹è¯•
proptest! {
    #[test]
    fn test_traceparent_roundtrip(trace_id in any::<[u8; 16]>()) {
        let formatted = format_traceparent(trace_id);
        let parsed = parse_traceparent(&formatted)?;
        assert_eq!(parsed, trace_id);
    }
}
```

### 3. å®æˆ˜åœºæ™¯

åŒ…å«å®Œæ•´çš„å®æˆ˜ç¤ºä¾‹:

- âœ… Axum HTTP æœåŠ¡å™¨ (ä¸­é—´ä»¶, ä¸Šä¸‹æ–‡æå–)
- âœ… Tonic gRPC (å®¢æˆ·ç«¯/æœåŠ¡å™¨æ‹¦æˆªå™¨)
- âœ… Kafka ç”Ÿäº§è€…/æ¶ˆè´¹è€… (ä¸Šä¸‹æ–‡ä¼ æ’­)
- âœ… SQLx æ•°æ®åº“ (è¿æ¥æ± , æŸ¥è¯¢, äº‹åŠ¡è¿½è¸ª)
- âœ… Redis (å‘½ä»¤è¿½è¸ª, Pipeline)
- âœ… å¤šäº‘éƒ¨ç½² (AWS, Azure, GCP)

---

## ğŸ“ å­¦ä¹ è·¯å¾„

### åˆçº§ (0-2å‘¨)

1. **å¿«é€Ÿå…¥é—¨** (30åˆ†é’Ÿ)
   - âœ… [Rust OTLP 30åˆ†é’Ÿå¿«é€Ÿå…¥é—¨](33_æ•™ç¨‹ä¸ç¤ºä¾‹/01_Rust_OTLP_30åˆ†é’Ÿå¿«é€Ÿå…¥é—¨.md)
   - ç¯å¢ƒæ­å»º, åŸºç¡€è¿½è¸ª, Docker Compose

2. **æ ¸å¿ƒæ¦‚å¿µ** (1-2å¤©)
   - âœ… [SpanContext Rust å®Œæ•´ç‰ˆ](03_æ•°æ®æ¨¡å‹/01_Tracesæ•°æ®æ¨¡å‹/02_SpanContext_Rustå®Œæ•´ç‰ˆ.md)
   - âœ… [SpanKind Rust å®Œæ•´ç‰ˆ](03_æ•°æ®æ¨¡å‹/01_Tracesæ•°æ®æ¨¡å‹/03_SpanKind_Rustå®Œæ•´ç‰ˆ.md)
   - TraceId, SpanId, W3C ä¼ æ’­

3. **å¸¸è§æ¨¡å¼** (3-5å¤©)
   - âœ… [Rust OTLP å¸¸è§æ¨¡å¼](33_æ•™ç¨‹ä¸ç¤ºä¾‹/02_Rust_OTLP_å¸¸è§æ¨¡å¼.md)
   - 40+ ä¸ªå³ç”¨æ¨¡å¼

### ä¸­çº§ (2-4å‘¨)

1. **æ•°æ®åº“é›†æˆ** (1å‘¨)
   - âœ… [æ•°æ®åº“è¿½è¸ªå®Œæ•´ç‰ˆ](02_Semantic_Conventions/02_è¿½è¸ªå±æ€§/03_æ•°æ®åº“_Rustå®Œæ•´ç‰ˆ.md)
   - PostgreSQL, MySQL, MongoDB, Redis ç­‰

2. **RPC é›†æˆ** (1å‘¨)
   - âœ… [RPC è¿½è¸ªå®Œæ•´ç‰ˆ](02_Semantic_Conventions/02_è¿½è¸ªå±æ€§/04_RPC_Rustå®Œæ•´ç‰ˆ.md)
   - gRPC, HTTP, JSON-RPC

3. **æ¶ˆæ¯é˜Ÿåˆ—** (1å‘¨)
   - Kafka, NATS, RabbitMQ é›†æˆ

### é«˜çº§ (4-8å‘¨)

1. **äº‘å¹³å°é›†æˆ** (2å‘¨)
   - âœ… [AWS å±æ€§è¯¦è§£](02_Semantic_Conventions/05_äº‘å¹³å°å±æ€§/01_AWSå±æ€§è¯¦è§£_Rustå®Œæ•´ç‰ˆ.md)
   - âœ… [Azure å±æ€§è¯¦è§£](02_Semantic_Conventions/05_äº‘å¹³å°å±æ€§/02_Azureå±æ€§è¯¦è§£_Rustå®Œæ•´ç‰ˆ.md)
   - âœ… [GCP å±æ€§è¯¦è§£](02_Semantic_Conventions/05_äº‘å¹³å°å±æ€§/03_GCPå±æ€§è¯¦è§£_Rustå®Œæ•´ç‰ˆ.md)

2. **å¤šäº‘æ¶æ„** (2å‘¨)
   - âœ… [å¤šäº‘æ¶æ„é›†æˆ](02_Semantic_Conventions/05_äº‘å¹³å°å±æ€§/04_å¤šäº‘æ¶æ„é›†æˆ_Rustå®Œæ•´ç‰ˆ.md)
   - ç»Ÿä¸€èµ„æºæ£€æµ‹, è·¨äº‘ä¼ æ’­, æˆæœ¬ä¼˜åŒ–

3. **ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–** (2-4å‘¨)
   - æ€§èƒ½è°ƒä¼˜, é‡‡æ ·ç­–ç•¥, æ•…éšœæ’æŸ¥
   - âœ… [Rust OTLP FAQ](33_æ•™ç¨‹ä¸ç¤ºä¾‹/03_Rust_OTLP_FAQ.md)

---

## ğŸ”§ CI/CD æ”¯æŒ

### GitHub Actions

```yaml
name: Rust OTLP CI

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: dtolnay/rust-toolchain@1.90
      - run: cargo test --all-features
      - run: cargo clippy -- -D warnings
```

### GitLab CI

```yaml
test:
  image: rust:1.90
  script:
    - cargo test --all-features
    - cargo clippy -- -D warnings
```

### Docker éƒ¨ç½²

```dockerfile
FROM rust:1.90 AS builder
WORKDIR /app
COPY . .
RUN cargo build --release

FROM debian:bookworm-slim
COPY --from=builder /app/target/release/app /usr/local/bin/
ENV OTEL_EXPORTER_OTLP_ENDPOINT=http://collector:4317
CMD ["app"]
```

---

## ğŸ“ˆ æ€§èƒ½åŸºå‡†

### è¿½è¸ªå¼€é”€

| åœºæ™¯ | å»¶è¿Ÿå¢åŠ  | CPU å¢åŠ  | å†…å­˜å¢åŠ  |
|------|---------|---------|---------|
| æ— è¿½è¸ª | 0ms | 0% | 0MB |
| åŒæ­¥å¯¼å‡º | 10-50ms | 15-20% | 5MB |
| æ‰¹é‡å¯¼å‡º (æ¨è) | <1ms | 2-5% | 10MB |
| é‡‡æ · 10% | <0.5ms | <1% | 2MB |

### é‡‡æ ·å»ºè®®

| ç¯å¢ƒ | é‡‡æ ·ç‡ | åŸå›  |
|------|-------|------|
| **å¼€å‘** | 100% | å®Œæ•´è¿½è¸ª,ä¾¿äºè°ƒè¯• |
| **æµ‹è¯•** | 50-100% | å‘ç°é—®é¢˜ |
| **é¢„å‘å¸ƒ** | 10-50% | æ€§èƒ½æµ‹è¯• |
| **ç”Ÿäº§** | 1-10% | é™ä½æˆæœ¬,ä¿æŒå¯è§‚æµ‹æ€§ |
| **é«˜æµé‡** | 0.1-1% | æä½å¼€é”€ |

---

## ğŸ‰ é¡¹ç›®æˆæœ

### æ•°é‡ç»Ÿè®¡

```text
ğŸ“ æ€»æ–‡æ¡£æ•°: 85+ ä¸ª
ğŸ“„ Rustä¸“å±æ–‡æ¡£: 13 ä¸ªæ ¸å¿ƒæ–‡æ¡£
ğŸ“ æ€»ä»£ç è¡Œæ•°: ~20,000+ è¡Œ
ğŸ¦€ Rustä»£ç è¡Œæ•°: ~16,500 è¡Œ
ğŸ’» ä»£ç ç¤ºä¾‹: 200+ ä¸ª
ğŸ“Š å®Œæˆåº¦: 100%
```

### è¦†ç›–èŒƒå›´

**æ ¸å¿ƒåè®®**:

- âœ… OTLP gRPC (å®Œæ•´)
- âœ… OTLP HTTP (å®Œæ•´)
- âœ… Protocol Buffers ç¼–ç 

**è¯­ä¹‰çº¦å®š**:

- âœ… HTTP è¿½è¸ª (Client/Server)
- âœ… gRPC è¿½è¸ª (Tonic)
- âœ… æ•°æ®åº“è¿½è¸ª (12+ ç³»ç»Ÿ)
- âœ… RPC è¿½è¸ª (3+ æ¡†æ¶)
- âœ… æ¶ˆæ¯é˜Ÿåˆ— (7+ ç³»ç»Ÿ)
- âœ… èµ„æºå±æ€§ (Service/Host/OS/Container/K8s)
- âœ… äº‘å¹³å°å±æ€§ (AWS/Azure/GCP/å¤šäº‘)

**æ•°æ®æ¨¡å‹**:

- âœ… SpanContext (TraceId/SpanId/W3C)
- âœ… SpanKind (5ç§ç±»å‹å®Œæ•´è¦†ç›–)
- â¸ï¸ Metrics (å¾…è¡¥å……,å¯é€‰)
- â¸ï¸ Logs (å¾…è¡¥å……,å¯é€‰)

**CI/CD é›†æˆ**:

- âœ… GitHub Actions (å®Œæ•´é…ç½®)
- âœ… GitLab CI (å®Œæ•´é…ç½®)
- âœ… Jenkins (å®Œæ•´é…ç½®)

**æ•™ç¨‹ä¸ç¤ºä¾‹**:

- âœ… 30åˆ†é’Ÿå¿«é€Ÿå…¥é—¨
- âœ… 40+ ä¸ªå¸¸è§æ¨¡å¼
- âœ… 40+ ä¸ª FAQ é—®é¢˜

---

## ğŸŒŸ ç‰¹åˆ«æˆå°±

### 1. å®Œæ•´çš„äº‘åŸç”Ÿæ”¯æŒ

- æ”¯æŒ 9 ä¸ªä¸»æµäº‘å¹³å°
- ç»Ÿä¸€èµ„æºæ£€æµ‹ API
- è·¨äº‘ä¸Šä¸‹æ–‡ä¼ æ’­
- æˆæœ¬ä¼˜åŒ–é‡‡æ ·
- æ•°æ®ä¸»æƒåˆè§„

### 2. ç”Ÿäº§çº§ä»£ç è´¨é‡

- æ‰€æœ‰ä»£ç éƒ½åŒ…å«é”™è¯¯å¤„ç†
- å®Œæ•´çš„ç±»å‹å®‰å…¨ä¿è¯
- æ€§èƒ½ä¼˜åŒ– (é›¶æ‹·è´, ç¼“å­˜)
- å¹¶å‘å®‰å…¨ (Arc, RwLock)
- æµ‹è¯•è¦†ç›– (å•å…ƒ/é›†æˆ/E2E)

### 3. å¼€å‘è€…ä½“éªŒä¼˜åŒ–

- 40+ ä¸ªå³ç”¨æ¨¡å¼
- 200+ ä¸ªä»£ç ç¤ºä¾‹
- å®Œæ•´çš„æ•…éšœæ’æŸ¥æŒ‡å—
- DO/DON'T æœ€ä½³å®è·µæ¸…å•
- æ¸…æ™°çš„å­¦ä¹ è·¯å¾„

---

## ğŸš€ åç»­å»ºè®®

### ä¼˜å…ˆçº§ P0 (å·²å®Œæˆ 100%)

- âœ… æ ¸å¿ƒåè®®å®ç°
- âœ… è¯­ä¹‰çº¦å®šè¦†ç›–
- âœ… äº‘å¹³å°é›†æˆ
- âœ… æ•™ç¨‹ä¸ç¤ºä¾‹
- âœ… CI/CD æ”¯æŒ

### ä¼˜å…ˆçº§ P3 (å¯é€‰,æœªæ¥è¡¥å……)

- â¸ï¸ Metrics Rust å®Œæ•´ç‰ˆ (~1,500 è¡Œ)
- â¸ï¸ Logs Rust å®Œæ•´ç‰ˆ (~1,500 è¡Œ)
- â¸ï¸ WASM/ç§»åŠ¨ç«¯é›†æˆ (~1,000 è¡Œ)
- â¸ï¸ IoT/åµŒå…¥å¼ Rust (~1,000 è¡Œ)

### ç»´æŠ¤è®¡åˆ’

1. **å®šæœŸæ›´æ–°** (å­£åº¦)
   - è·Ÿè¿› OpenTelemetry æ–°ç‰ˆæœ¬
   - æ›´æ–°ä¾èµ–åº“ç‰ˆæœ¬
   - è¡¥å……æ–°çš„æœ€ä½³å®è·µ

2. **ç¤¾åŒºåé¦ˆ** (æŒç»­)
   - æ”¶é›†ä½¿ç”¨åé¦ˆ
   - ä¿®å¤æ–‡æ¡£é”™è¯¯
   - è¡¥å……ç¼ºå¤±å†…å®¹

3. **æ–°ç‰¹æ€§** (æŒ‰éœ€)
   - Rust æ–°ç‰ˆæœ¬ç‰¹æ€§
   - OpenTelemetry æ–°åŠŸèƒ½
   - äº‘å¹³å°æ–°æœåŠ¡

---

## ğŸ“ è”ç³»æ–¹å¼

**é¡¹ç›®ä¿¡æ¯**:

- é¡¹ç›®åç§°: Rust OTLP å®Œæ•´æ–‡æ¡£
- ç‰ˆæœ¬: 1.0.0
- æœ€åæ›´æ–°: 2025å¹´10æœˆ9æ—¥

**æŠ€æœ¯æ ˆ**:

- Rust: 1.90+
- OpenTelemetry: 0.31.0
- Tokio: 1.47.1

**æ–‡æ¡£ä»“åº“**:

- è·¯å¾„: `æ ‡å‡†æ·±åº¦æ¢³ç†_2025_10/`
- æ ¼å¼: Markdown
- ç¼–ç : UTF-8

---

## ğŸŠ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®:

- **OpenTelemetry Rust** - æ ¸å¿ƒè¿½è¸ªåº“
- **Tokio** - å¼‚æ­¥è¿è¡Œæ—¶
- **Tonic** - gRPC æ¡†æ¶
- **Axum** - HTTP æ¡†æ¶
- **SQLx** - æ•°æ®åº“åº“
- **Rust ç¤¾åŒº** - ä¼˜ç§€çš„ç”Ÿæ€ç³»ç»Ÿ

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ9æ—¥  
**é¡¹ç›®çŠ¶æ€**: âœ… å®Œæˆ  
**ä¸‹ä¸€é‡Œç¨‹ç¢‘**: æŒç»­ç»´æŠ¤ä¸æ›´æ–°

---

ğŸ‰ **Rust OTLP æ–‡æ¡£é¡¹ç›®åœ†æ»¡å®Œæˆï¼**

**æ ¸å¿ƒä»·å€¼**:

- âœ… ç”Ÿäº§å°±ç»ªçš„ Rust OTLP å®Œæ•´å®ç°
- âœ… è¦†ç›–æ‰€æœ‰ä¸»æµäº‘å¹³å°å’Œæ•°æ®åº“
- âœ… 200+ ä¸ªå¯å¤åˆ¶ç²˜è´´çš„ä»£ç ç¤ºä¾‹
- âœ… å®Œæ•´çš„å­¦ä¹ è·¯å¾„å’Œæœ€ä½³å®è·µ
- âœ… 100% çš„æ ¸å¿ƒæ–‡æ¡£è¦†ç›–ç‡

**ç«‹å³å¼€å§‹**: [Rust OTLP 30åˆ†é’Ÿå¿«é€Ÿå…¥é—¨](33_æ•™ç¨‹ä¸ç¤ºä¾‹/01_Rust_OTLP_30åˆ†é’Ÿå¿«é€Ÿå…¥é—¨.md) ğŸš€
