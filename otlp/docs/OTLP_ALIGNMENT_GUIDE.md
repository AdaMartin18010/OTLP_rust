# OTLP 对齐指南（文档版）

本指南用于统一本仓库文档在内容组织、术语与规范映射方面的对齐方式，确保所有文档在不引用项目代码的前提下，与 OTLP 规范保持一致。

## 一、文档对齐范围

- 数据模型：Traces / Metrics / Logs 与资源语义
- 协议与序列化：gRPC、HTTP(JSON/Protobuf)、内容类型、端口与错误语义
- 处理与导出：批处理、重试、压缩、幂等、顺序性与背压
- 运行环境：云原生、企业应用、安全、监控、测试与性能优化

## 二、术语与命名

- 统一采用 OpenTelemetry 官方术语（例如 Trace/Span、Sampler、Exporter、Resource Attributes）
- 资源属性命名遵循语义约定（如 service.name、k8s.namespace、deployment.environment）
- 严禁以实现细节替代术语；面向概念、场景与最佳实践进行表述

## 三、结构模板（建议）

- 概述：目标、读者与适用范围
- 与 OTLP 规范对齐：逐条列出与规范的映射与遵循点
- 核心主题：分点阐述该主题的关键实践
- 推荐阅读路径：循序渐进的阅读指引
- 术语与参考：权威外链与标准出处

## 四、常见对齐要点

1. 采样与留存需与 SLO/成本联动，避免“只增不减”的默认策略
2. 压缩与编码权衡需基于端到端延迟与网络成本而非单点指标
3. 重试使用指数退避+抖动，设定上限并保障幂等
4. 背压策略优先保护下游稳定，必要时允许有界丢弃并记录审计
5. 跨域关联以 trace_id/span_id 为主线，日志与指标提供最小必要关联系统

## 五、质量与可维护性

- 统一排版与小节标题，保持跨目录一致风格
- 明确“与规范对齐”的检查清单，文档变更需自检
- 面向读者角色提供路径（开发/架构/运维），减少信息过载

## 六、参考资料

- OpenTelemetry 官方规范与语义约定
- OTLP 协议与数据模型说明
- CNCF、SRE 与云原生最佳实践

---

本文档为元文档，指导其它文档的撰写与校对；不涉及仓库内部实现细节。
