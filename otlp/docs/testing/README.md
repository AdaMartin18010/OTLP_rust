# 测试策略与 OTLP

## 概述

本目录聚焦 OTLP 系统的测试策略，覆盖单元、集成、端到端（E2E）、兼容性与回归测试，以及基准与容量测试，确保在多协议、多数据域与不同环境下的正确性与稳定性。

## 与 OTLP 规范对齐（Spec ↔ Testing）

- 数据模型验证：依据规范校验 Traces/Metrics/Logs 的必填字段、类型与语义
- 协议与序列化：gRPC/HTTP(Proto/JSON) 的互通性与内容类型校验
- 兼容性与回放：对不同 Collector/后端版本做回放测试与兼容性矩阵
- 稳定性与容错：断网、超时、限流、重试、背压、压缩失败等故障注入
- 性能与容量：延迟、吞吐、抖动、CPU/内存占用与队列水位的基准与对比

## 核心主题

1. 单元与属性校验：字段约束、语义约定、配置边界
2. 集成与互操作：与 Collector/后端对接的互通测试
3. 端到端链路：跨服务 trace/log/metric 的贯通与一致性
4. 故障注入：网络/后端/资源等异常的恢复与幂等
5. 基准与回归：固定工作集、参数化基准、性能回归守护

## 推荐阅读路径

1. 先对齐数据模型与协议校验点
2. 建立端到端关键路径的回放与断言
3. 设计故障注入用例与可重复基准场景
4. 将性能阈值与 SLO 纳入自动化门禁

## 术语与参考

- OpenTelemetry 规范与互操作测试建议
- 失败模式与容错测试（Chaos/Fault Injection）
- 基准测试与容量规划方法论
